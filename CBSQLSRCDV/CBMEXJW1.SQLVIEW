/*******************************************************************************/
/*                                                                             */
/*       Midas - Close of Business Processing                                  */
/*                                                                             */
/*       CBMEXJW1 - Midas CB Mutually Exclusive Compnt Joint                   */
/*                                                                             */
/*       (c) Finastra International Limited 2023                               */
/*                                                                             */
/*       Last Amend No. MD062206 *CREATE   Date 19Dec23                        */
/*                                                                             */
/*-----------------------------------------------------------------------------*/
/*                                                                             */
/*       MD062206 - Validation of mutually exclusive is causing                */
/*                  duplicate key error. Make sure unique number               */
/*                  (DKMEUN) is unique whether the record is logically         */
/*                  deleted or not.                                            */
/*                                                                             */
/*******************************************************************************/
                                                                                :
  create view                                                                   :
  **********/**********                                                         :
                                                                                :
  (                                                                             :
       DKCOTT                                                                   :
     , DKCSEQ                                                                   :
     , DKMEUN                                                                   :
     , DKMECN                                                                   :
     , DKMECS                                                                   :
     , DKMODE                                                                   :
     , DKLOGD                                                                   :
  )                                                                             :
  as select                                                                     :
       x.DKCOTT                                                                 :
     , x.DKCSEQ                                                                 :
     , x.DKMEUN                                                                 :
     , x.DKMECN                                                                 :
     , x.DKMECS                                                                 :
     , x.DKMODE                                                                 :
     , x.DKLOGD                                                                 :
  from CBMEXUW0 u                                                               :
                                                                                :
  join                                                                          :
                                                                                :
  CBMEXXTD x                                                                    :
  on                                                                            :
      u.DKCOTT = x.DKCOTT and u.DKCSEQ = x.DKCSEQ and                           :
      u.DKMEUN = x.DKMEUN                                                       :
                                                                                :
  rcdfmt CBMEXJT0;                                                              :
                                                                                :
  label on table     **********/**********                                      :
   is 'Midas CB Mutually Exclusive Compnt Joint        ';                       :
                                                                                :
/******************************************************************************/
