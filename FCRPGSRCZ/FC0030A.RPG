     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas FC Obtain initial menu parmameters')
     F*****************************************************************
     F*                                                               *
     F*  Midas - Report Control Facility Module
     F*                                                               *
     F*  FC0030A - ACCESS COB COMPONENTS FILE FOR PARAMETERS FOR      *
     F*            REPORT REQUEST AT INPUT CYCLE INITIATION           *
     F*                                                               *
      *  (c) Misys International Banking Systems Ltd. 2001            *
     F*                                                               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
     F*  LAST AMEND NO. 064115             DATE 18FEB94               *
     F*  PREV AMEND NO. E00000             DATE DDMMMYY               *
     F*                                                               *
     F*****************************************************************
     F*                                                               *
     F*  064115 - PROCESS REPORT COMPONENTS WHICH EXIST ON            *
     F*           SWITCHABLE FEATURES BY REPORT COMPONENTS FILE.      *
     F*           REPLACE LF/FCRCOML3 WITH JLF/FCRCOMJ3               *
     F*                                                               *
     F*****************************************************************
     F*                                                               *
     F*  C R E A T I O N     P A R A M E T E R S                      *
     F*                                                               *
     F*                                                               *
     F*****************************************************************
     FCBCMPNL0IF  E           K        DISK
     F***FCRCOML3IF  E           K        DISK                            064115
     FFCRCOMJ3IF  E           K        DISK                               064115
     F*
      /SPACE 2
     F********************************************************************
     F*
     F*     C  L   FUNCTION OF INDICATORS
     F*
     F*
     F*    50      FAIL ON CHAIN TO CBCMPNL0
     F*****60      FAIL ON CHAIN TO FCRCOML3                              064115
     F*    60      FAIL ON CHAIN TO FCRCOMJ3                              064115
     F*       LR   END OF FILE
     F*
     F*    U7&U8   DATABASE ERROR
     F*
     F*****************************************************************
     F/EJECT
     E*
     E                    CPY@    1   1 80
     E** COPYRIGHT ARRAY
     E*
     E*****************************************************************
     E/EJECT
     I*
     ILDA        UDS                            256
     I                                      134 141 DBFILE
     I                                      142 170 DBKEY
     I                                      171 180 DBPGM
     I                                      181 1830DBASE
     I**     LOCAL DATA AREA
     I*
     ICPYR@#      DS
     I                                        1  80 CPY@
     I                                        1  20 CPY@##
     I** DATA STRUCTURE FOR COMPILATION  - COPYRIGHT INSERTION
     I*
     ICKEYDS      DS
     I                                        1  10 CMPNMX
     I                                       11  15 CMPSQX
     I** DATA STRUCTURE FOR KEY FIELD CKEY TO BE MOVED INTO DBKEY FIELD
     I*
     I*****************************************************************
     I/EJECT
     C*
     C** LIST FOR PARAMETER PASSED TO PROGRAM
     C*
     C           *ENTRY    PLIST
     C                     PARM           COMPNM 10
     C                     PARM           COMPSQ  5
     C                     PARM           DHCPRM
     C*
     C** KEY LIST FOR CHAIN TO CBCOMSL0
     C*
     C           CKEY      KLIST
     C                     KFLD           COMPNM
     C                     KFLD           COMPSQ
     C*
     C** SET UP PROGRAM NAME FOR DATABASE ERRORS
     C*
     C                     MOVE *BLANKS   DBPGM
     C                     MOVEL'FC0030A 'DBPGM
     C                     MOVE *BLANKS   DBKEY
     C*
     C** CHAIN TO CBCMPNL0 FOR COMPONENT DETAILS
     C*
     C           CKEY      CHAIN@DHREGG              50
     C*
     C** IF COMPONENT NOT FOUND CHECK THE RCF FILE
     C** IN CASE ONLY DEFINED AS AN INPUT CYCLE REPORT
     C*
     C           *IN50     IFEQ '1'
     C***********CKEY      CHAIN@RCOMAU              60                   064115
     C           CKEY      CHAINFCRCOMJ3             60                   064115
     C                     MOVE D3CLPM    DHCPRM
     C                     END
     C*
     C** RETURN TO CALLING PROGRAM
     C*
     C                     SETON                     LR
     C*
      /EJECT
**  CPY@
(c) Misys International Banking Systems Ltd. 2001
