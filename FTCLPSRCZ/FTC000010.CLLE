/*********************************************************************/
/*STD    CLPBASEBND                                                  */
/*EXI    TEXT('Midas FT Extension Table Delete Handler')             */
/*********************************************************************/
/*                                                                   */
/*       Midas - Funds Transfer Module                               */
/*                                                                   */
/*       FTC000010 - Midas FT Extension Table Delete Handler         */
/*                                                                   */
/*       (C) Misys International Banking Systems Ltd. 2004           */
/*                                                                   */
/*       Last Amend No. MD023811           Date 27Nov13              */
/* Bank Fusion Midas 1.4 Base ---------------------------------------*/
/* Midas Plus 1.4 Base 04 -------------------------------------------*/
/* Midas Plus 1.4 Base ----------------------------------------------*/
/* Midas Plus 1.3 ---------------- Base -----------------------------*/
/*       Prev Amend No. CSF003  *CREATE    Date 03Nov04              */
/*                                                                   */
/*********************************************************************/
/*                                                                   */
/*       MD023811 - Confirm Delete transaction loading not ending    */
/*       CSF003 - User Defined Forms                                 */
/*                                                                   */
/*********************************************************************/
             PGM        PARM(&PRTCD &PPFNM &PZONE &PBIMG)
 
             DCL        VAR(&PRTCD) TYPE(*CHAR) LEN(7)
             DCL        VAR(&PPFNM) TYPE(*CHAR) LEN(10)
             DCL        VAR(&PZONE) TYPE(*CHAR) LEN(10)
             DCL        VAR(&PBIMG) TYPE(*CHAR) LEN(4000)
 
             COPYRIGHT TEXT('(C) Misys International Banking Systems +
                        Ltd. 2004')
 
/* Global monitor message. */
 
             MONMSG     MSGID(CPF0000 MCH0000 RPG0000) EXEC(GOTO +
                          CMDLBL(ABNOR))
 
             CHGDTAARA  DTAARA(LDA) VALUE(' ')
             MONMSG     MSGID(CPF1015) EXEC(CRTDTAARA +
                          DTAARA(QTEMP/LDA) TYPE(*CHAR) LEN(256) +
                          AUT(*ALL))
             CHGJOB     SWS(XXXXXX00)
 
 /********** OVRDBF     FILE(FTRTDXL0) TOFILE(T_GZRFT2EX)            */                 /*MD023811*/
 /********** OVRDBF     FILE(FTCTDXL0) TOFILE(T_GZCCT2EX)            */                 /*MD023811*/
             OVRDBF     FILE(FTRTDXL0) TOFILE(T_GZRFT2EX) LVLCHK(*NO)                   /*MD023811*/
             OVRDBF     FILE(FTCTDXL0) TOFILE(T_GZCCT2EX) LVLCHK(*NO)                   /*MD023811*/
 
             CALL       PGM(FT000010) PARM(&PRTCD &PPFNM &PZONE &PBIMG)
 
             DLTOVR     FILE(FTRTDXL0)
             DLTOVR     FILE(FTCTDXL0)
 
             IF         COND(&PRTCD *EQ '       ') THEN(GOTO +
                          CMDLBL(END))
 
/* Abnormal processing. */
 
 ABNOR:
             CHGJOB     SWS(XXXXXX11)
             SNDPGMMSG  MSGID(CPF9898) MSGF(QCPFMSG) MSGDTA('Program +
                          FTC000010 ended abnormally - see job log.') +
                          TOMSGQ(MOPERQ)
             MONMSG     MSGID(CPF0000 MCH0000)
             DSPJOBLOG  OUTPUT(*PRINT)
             MONMSG     MSGID(CPF0000 MCH0000)
 
 END:
             ENDPGM
