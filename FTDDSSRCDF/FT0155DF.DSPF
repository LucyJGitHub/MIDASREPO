      *****************************************************************
/*STD *  DSPFBASE                                                     *
/*EXI *  TEXT('Midas FT Incoming Payments For A Sender')
     A*****************************************************************
     A*                                                               *
     A*  Midas - FUNDS TRANSFER MODULE
     A*                                                               *
     A*  FT0155DF  - INCOMING PAYMENTS FOR A SENDER                   *
     A*                                                               *
      *  (c) Misys International Banking Systems Ltd. 2001            *
     A*                                                               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      *  Last Amend No. CGL029             Date 01Sep03               *
      *  Prev Amend No. CAAA02             Date 16Jul03               *
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
     A*                 104633             DATE 16JUL96               *
     A*                 003357             DATE 13MAY93               *
     A*                 S01117             DATE 05JUL91               *
     A*                 E29969             DATE 19JUN91               *
     A*                 E29964             DATE 13JUN91               *
     A*                 S01253             DATE 17APR90               *
     A*                 S01199             DATE 17/08/89              *
     A*                                                               *
     A*****************************************************************
     A*                                                               *
      *  CGL029 - Increase Account Code to 10 digits                  *
      *  CAAA02 - Remove use of LOCK keyword to enable WebFacing      *
      *           to process screens.                                 *
     A*  104633 - GUI Amendments to DSPF with non-standard footers    *
     A*  003357 - Program shows entries for sender with value date    *
     A*           before the date specified on input screen. Selection*
     A*           process picks up all transactions with a matching   *
     A*           Sender field but as the screen field was            *
     A*           truncated from 35 to 20, the matching process was   *
     A*           not accurate. Need to extend screen field to full   *
     A*           length of 35.                                       *
     A*  S01117  -  MULTIBRANCHING CHANGES                            *
     A*  E29969  -  RETURN DATA TO PGM ON F8 TO ALLOW CLEAR OF        *
     A*             SELECTION FIELDS THEN F8                          *
     A*  E29964  -  INCORRECT TEXT FOR F8                             *
     A*  S01253  -  RECOMPILED FOR MULTILANGUAGE SCREENS              *
     A*  S01199  -  HELP SYSTEM.                                  *
     A*                                                               *
     A*****************************************************************
     A*                                                    /*S01117*/
     A                                      REF(MFRFL)
     A*                                                    /*S01117*/
                                            INDARA
                                            CHGINPDFT
                                            PRINT(MPRINT)
                                            CA03(01)
                                            CA12(05)
     A*                                                    /E29969/
     A**24*************                     CA08
     A  24N21                               CF08
     A*                                                    /E29969/
     A*                                                    /S01199/
     A*                                                    /S01199/
     A  24N25                               ROLLUP(29)
 
     A*                                                    /S01199/
     A*                                                    /S01199/
                R FT0155F0                  TEXT('(c) Misys International +
     A                                      Banking Systems Ltd. +
     A                                      2001')
                                            SFL
        26                                  SFLNXTCHG
 
      **Start of change CGL029
     A**********  @DET           1A  B  7  5TEXT('Select payment')                            CGL029
     A            @DET           1A  B  8  5TEXT('Select payment')
      **End of change CGL029
     A*                                           **START**/S01117/
     A*LUX20
     A**************************            DSPATR(PC)
     A*LUX20
     A*                                           **END****/S01117/
       N50 31                               DSPATR(PC)
       N44                                  DSPATR(HI)
                                            DSPATR(UL)
        44                                  DSPATR(RI)
       N31                                  DSPATR(ND)
       N31                                  DSPATR(PR)
 
     A*                                           **START**/S01117/
     A************@VALD**********7A  O  7  8TEXT('Value date')
     A***************************           DSPATR(HI)
     A***************************
     A************@FLD24********24A  O  7 17TEXT('Payment reference,  +
     A***************************           sub-type, and currency OR +
     A***************************           the literal Value date    +
     A***************************           total')
     A**31***********************           DSPATR(HI)
     A***************************
     A************@AMNT*********17A  O  7 43TEXT('Amount')
     A***************************           DSPATR(HI)
     A***************************
     A************@ORBC*********12A  O  7 62TEXT('Ordering bank/customer')
     A***************************           DSPATR(HI)
      **Start of change CGL029
     A**********  @SFLIN        66A  O  7  8TEXT('Subfile line of above fields')              CGL029
     A**********                            DSPATR(HI)                                        CGL029
     A**********  @SFAUT         3A  O  7 77TEXT('AUTHORITY INDICATOR')                       CGL029
     A            @SFLN1        52A  O  8  8TEXT('Subfile Line 1')
     A                                      DSPATR(HI)
     A            @SFLN2        21A  O  9 10TEXT('Subfile Line 2')
     A                                      DSPATR(HI)
     A            @SFAUT         3A  O  9 32TEXT('Authority Indicator')
      **End of change CGL029
                                            DSPATR(HI)
       N31                                  DSPATR(ND)
 
                  @HBRCA    R        H      REFFLD(BRCA)
                  @HORBR    R        H      REFFLD(ORBR)
     A*                                           **END****/S01117/
 
                R FT0155F1                  TEXT('Screen header')
                                            PUTOVR
                                            OVERLAY
       N28                                  BLINK
      ** Start of CAAA02
      ******************                    LOCK
      ** End   of CAAA02
                                            SFLCTL(FT0155F0)
      **Start of change CGL029
     A**********                            SFLSIZ(0016)                                      CGL029
     A**********                            SFLPAG(0015)                                      CGL029
     A                                      SFLSIZ(8)
     A                                      SFLPAG(7)
      **End of change CGL029
        23                                  SFLCLR
        24                                  SFLDSP
        25                                  SFLEND
        30                                  SFLDSPCTL
       N24                                  ERASE(FT0155F0)
 
     A*                                                    /*S01199*/
     A*                                                    /S01117/
     A*                                                    /S01117/
     A*  /* Start 003357 */
     A*  /* End   003357 */
     A*                                                    /*S01199*/
     A*                                                    /S01117/
     A*  /* Start 003357 */
     A*  /* End   003357 */
     A*                                                    /S01117/
                  @SFREC         4  0H      TEXT('SFLRCDNBR field')
                                            SFLRCDNBR(CURSOR)
 
     A*                                           **START**/S01117/
     A**********************************1 21'INCOMING PAYMENTS FOR A -
     A**********************************    SENDER'
     A**********************************    DSPATR(HI)
     A**********************************    DSPATR(UL)
     A**********************************1 58TIME
     A**********************************    OVRATR
     A**********************************1 67'WID'
     A            USRID         10A  O  1  2
     A                                  1 13'FT0155'
     A                                  1 26'INCOMING PAYMENTS FOR A -
     A                                      SENDER'
     A                                      DSPATR(HI UL)
     A            BJMRDT         7A  O  1 72
     A            TIME           6Y 0O  2 71EDTWRD('  .  .  ')
     A                                      OVRDTA
     A            WSID          10A  O  2  2
     A************@JOB**********10A  O  1 71TEXT('Job name from PSDS')
     A*                                           **END****/S01117/
 
                                        3  4'Currency'
                  @SCCY          3A  B  3 15TEXT('Currency')
                                            OVRDTA
       N51                                  DSPATR(HI)
       N28                                  DSPATR(UL)
        28                                  DSPATR(PR)
        51                                  DSPATR(RI PC)
 
                                        3 19'Sender'
     A*  /* Start 003357 */
     A************@SDEST        20A  B  3 36TEXT('Sender')
     A            @SDEST        35A  B  3 36TEXT('Sender')
     A*  /* End   003357 */
                                            OVRDTA
       N52                                  DSPATR(HI)
       N28                                  DSPATR(UL)
        28                                  DSPATR(PR)
        52                                  DSPATR(RI PC)
 
                                        4  4'Authorised'
                  @SAUTH         1A  B  4 15TEXT('Authorised indicator')
                                            OVRDTA
       N53                                  DSPATR(HI)
       N28                                  DSPATR(UL)
        28                                  DSPATR(PR)
        53                                  DSPATR(RI PC)
 
                                        4 19'Start value date'
                  @SVALD         6A  B  4 36TEXT('Start value date')
                                            OVRDTA
       N54                                  DSPATR(HI)
       N28                                  DSPATR(UL)
        28                                  DSPATR(PR)
        54                                  DSPATR(RI PC)
 
     A*                                           **START**/S01117/
     A*  /* Start 003357 */
     A**43********                      3 57'Branch'
     A**43********@BRCA     R        B  3 64REFFLD(BRCA)
     A  43                              4 44'Branch'
     A  43        @BRCA     R        B  4 51REFFLD(BRCA)
     A*  /* End   003357 */
     A                                      OVRDTA
     A N55                                  DSPATR(HI)
     A N28                                  DSPATR(UL)
     A  28                                  DSPATR(PR)
     A  55                                  DSPATR(RI PC)
     A*
     A*  /* Start 003357 */
     A**43*08*****                      4 44'Originating/Booking'
     A**43*08*****@BORO          1A  B  4 66TEXT('B or O')
     A  43 08                           4 56'Originating/Booking'
     A  43 08     @BORO          1A  B  4 76TEXT('B or O')
     A*  /* End   003357 */
     A                                      OVRDTA
     A N56                                  DSPATR(HI)
     A N28                                  DSPATR(UL)
     A  28                                  DSPATR(PR)
     A  56                                  DSPATR(RI PC)
     A*                                           **END****/S01117/
     A
                                        6  4'Sel'
                                            OVRATR
       N24                                  DSPATR(ND)
 
                                        6  8'Val date'
                                            OVRATR
       N24                                  DSPATR(ND)
 
                                        6 19'Payment ref'
                                            OVRATR
       N24                                  DSPATR(ND)
 
                                        6 34'Sub'
                                            OVRATR
       N24                                  DSPATR(ND)
 
                                        6 38'Ccy'
                                            OVRATR
       N24                                  DSPATR(ND)
 
                                        6 51'Amount'
                                            OVRATR
       N24                                  DSPATR(ND)
 
      **Start of change CGL029
     A**********                        6 62'A/c bnk/ben'                                     CGL029
     A                                  7 10'A/c with Bank/Ben'
      **End of change CGL029
                                            OVRATR
       N24                                  DSPATR(ND)
     A*                                           **START**/S01117/
      **Start of change CGL029
     A**********                        6 76'Auth'                                            CGL029
     A                                  7 32'Auth'
      **End of change CGL029
                                            OVRATR
       N24                                  DSPATR(ND)
     A*                                           **END****/S01117/
 
 
                R FT0155F2                  TEXT('Screen footer')
     A*                                           **START**/S01117/
     ***************************************PUTOVR
     A*                                           **END****/S01117/
      ** Start of CAAA02
      ******************                    LOCK
      ** End   of CAAA02
 
                  @ERR          76   O 22  3TEXT('Error codes')
     A*                                           **START**/S01117/
     ***************************************OVRDTA
     A*                                           **END****/S01117/
        50                                  DSPATR(RI)
       N50                                  DSPATR(ND)
 
      ******                                          Start  /104633/
     A******                           23  2'F3-End, F12 for init+
      ******                                ial screen'
     A                                 23  2'F3=Exit   F12=Previous'
      ******                                           End   /104633/
 
     A*                                           **START**/S01117/
     A*********************************23 33', F8 for next destination'
     A N60N18N20
     AA 43
     AON60N18N43
     AO 20N60N18
      ******                                          Start   /104633/
     A*AN19                             23 33', F8 for next sender'
     AAN19                             23 33'F8=Next sender'
      ******                                           End    /104633/
     A N24
     AO 21                                  DSPATR(ND)
     A  60N43
     AO 20 60N19
      ******                                          Start   /104633/
     A*O 60N20 43                       23 33', F8 for next currency'
     AO 60N20 43                       23 33'F8=Next currency'
      ******                                           End    /104633/
     A N24
     AO 21                                  DSPATR(ND)
     A  18N20
      ******                                          Start   /104633/
     A*O 20 18                         23 33', F8 next currency/sender'
     AO 20 18                          23 33'F8=Next currency/sender'
      ******                                           End    /104633/
     A N24
     AO 21                                  DSPATR(ND)
      ******                                          Start   /104633/
     A**20 19                          23 33', F8 for next Branch'
     A  20 19                          23 33'F8=Next Branch'
      ******                                           End    /104633/
     A N24
     AO 21                                  DSPATR(ND)
     ***************************************OVRATR
     **N24**********************************DSPATR(ND)
     A*                                           **END****/S01117/
 
                                       24  2'Rollup/Rolldown for next/previous -
                                            screen'
     A*                                           **START**/S01117/
     ***************************************OVRATR
     A*                                           **END****/S01117/
       N24                                  DSPATR(ND)
