/*********************************************************************/
/*STD    CLPBASEBND                                                  */
/*EXI    TEXT('Midas GL Submit background update of GL Files')       */
/*********************************************************************/
/*                                                                   */
/*       Midas - General Ledger                                      */
/*                                                                   */
/********GLC007001*-*Submit*background*update*of*OLPOS****************/                /*MD025679B*/
/*       GLC007001 - Submit background update of GL Files            */                /*MD025679B*/
/*                                                                   */
/*       (c) Finastra International Limited 2014                     */
/*                                                                   */
/*       Last Amend No. LEUFIX03           Date 20Feb20              */
/*       Prev Amend No. MD046248           Date 27Oct17              */
/*                      MD025679B          Date 26Mar14              */
/*                      MD025679A          Date 21Mar14              */
/*                      MD025679 *CREATE   Date 18Mar14              */
/*                                                                   */
/*-------------------------------------------------------------------*/
/*                                                                   */
/*       LEUFIX03 - GO_ONL_OLP job continuously submitted              */
/*       MD046248 - Finastra Rebranding                              */
/*       MD025679B - API - PRONO Locking Issue                       */
/*       MD025679A - API - OLPOSOA Locking Issue Performance Update  */
/*       MD025679 - API - OLPOSOA Locking Issue.                     */
/*                                                                   */
/*********************************************************************/
             PGM
 
             COPYRIGHT TEXT('(c) Finastra International Limited +
                          2014')
 
/* Global monitor message. */
             MONMSG     MSGID(CPF0000 MCH0000 RPG0000) EXEC(GOTO +
                          CMDLBL(ERROR))
 
             ALCOBJ     OBJ((GLOLJSTD *FILE *EXCLRD)) WAIT(0)                           /*LEUFIX03*/
             MONMSG     MSGID(CPF1002 CPF1040 CPF1085) EXEC(GOTO END)                   /*LEUFIX03*/
                                                                                        /*LEUFIX03*/
             DLCOBJ     OBJ((GLOLJSTD *FILE *EXCLRD))                                   /*LEUFIX03*/
             MONMSG     MSGID(CPF0000 MCH0000 RPG0000)                                  /*LEUFIX03*/
                                                                                        /*LEUFIX03*/
             SBMJOB     JOB(GO_ONL_OLP) JOBD(MBATCH) JOBQ(INTERFACE) +
                          OUTQ(*JOBD) USER(*JOBD) RTGDTA(*JOBD) +
                          RQSDTA('CALL GLC007002') INLLIBL(*JOBD)
 
             GOTO       CMDLBL(END)
 
ERROR:
             CHGJOB     SWS(XXXXXX11)
             SNDPGMMSG  MSGID(CPF9898) MSGF(QCPFMSG) MSGDTA('Program +
                          GLC007001 ended abnormally - see job log') +
                          TOMSGQ(MOPERQ MRUNQ)
             MONMSG     MSGID(CPF0000 MCH0000)
 
END:
             ENDPGM
