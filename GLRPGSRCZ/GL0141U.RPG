     H            Y
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas GL Get Branch Code From St. Jrn File')
     H/TITLE Get Branch Code From Standing Journals File
     F********************************************************************
     F*                                                               *
     F*  Midas GENERAL LEDGER MODULE
     F*                                                               *
     F*   GL0141U - Get branch code from Standing Journals File       *   S01251
     F*                                                               *
      *  (c) Misys International Banking Systems Ltd. 2001            *
     F*                                                               *
     F*****************************************************************
     F*                                                               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
     F*   Last Amend  244686                 Date  23Feb07            *
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
     F*   Prev Amend  S01340                 Date  21FEB92            *
     F*                                                               *
     F*****************************************************************
     F*                                                               *
     F*   244686   - Added the missing fields to GLJESHPD which CAP086*
     F*              and CSC024 introduced to GZGLJENHPD in order for *
     F*              the 2 files to be synchronized. (Recompiled Only)*
     F*   S01340   -   RECOMPILED FOR MIS RELEASE 10                  *
     F*                                                               *
     F*****************************************************************
     F*  C R E A T I O N     P A R A M E T E R S                      *
     F*                                                               *
     F*                                                               *
     F*****************************************************************
     FGLJESHL1IF  E           K        DISK
      * RTV: GL Standing Journals File  Retrieval index
      *
     E                    CPY@    1   1 80               Copyright     array
      /EJECT
      * Data structures:-
     IA@CPY       DS
      * Copyright array
     I                                        1  80 CPY@
      /EJECT
      *****************************************************************
     C           *ENTRY    PLIST                           Entry parameters
     C                     PARM           P0RTN   7        Return code
     C                     PARM           P@BTNB  3        St Jrn Batch No
     C                     PARM           P@BRCD  3        Branch Code
      *****************************************************************
     C*
     C* Locate Interface Header Record using Standing Journal Batch
     C* Number
     C*
     C           P@BTNB    CHAIN@BRREAH              99
     C*
     C           *IN99     IFEQ '0'
     C*
     C* If record found move Branch Code to output Parameter
     C*
     C                     MOVE *BLANK    P0RTN
     C                     MOVE BRBCDA    P@BRCD
     C*
     C                     ELSE
     C*
     C* If record not found move set error flag on
     C*
     C                     MOVE '*ERROR'  P0RTN
     C                     END
     C*
     C                     SETON                         LR
     C                     RETRN
     C*
** CPY@
(c) Misys International Banking Systems Ltd. 2001
