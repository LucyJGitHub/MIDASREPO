/*******************************************************************************/
/*                                                                             */
/*       Midas - Global Processing Module                                      */
/*                                                                             */
/*       V_MLLTLKUP - Midas GP Limits Lookup                                   */
/*                                                                             */
/*       (c) Finastra International Limited 2004                               */
/*                                                                             */
/*       Last Amend No. MD046248           Date 27Oct17                        */
/* Bank Fusion Midas 1.4 Base -------------------------------------------------*/
/* Midas Plus 1.4 Base 04 -----------------------------------------------------*/
/*       Prev Amend No. BG18886            Date 05Jun08                        */
/*                      BUG17953           Date 10Apr08                        */
/* Midas Plus 1.4 Base --------------------------------------------------------*/
/* Midas Plus 1.3 ---------------- Base ---------------------------------------*/
/*                      CSD031             Date 10Apr06                        */
/*                      CSD027             Date 18Dec05                        */
/*                      BUG5198            Date 16Dec04                        */
/*                      BUG4521            Date 17Nov04                        */
/*                      BUG3860            Date 11Aug04                        */
/*                      BUG2703            Date 01Jul04                        */
/*                      CLE025             Date 20Oct03                        */
/*                      BUG2221            Date 06May04                        */
/*                      BG2225             Date 01Apr04                        */
/*                      BUG1741            Date 08Apr04                        */
/*                      CGP001  *CREATE    Date 16Mar04                        */
/*                                                                             */
/*-----------------------------------------------------------------------------*/
/*                                                                             */
/*       MD046248 - Finastra Rebranding                                        */
/*       BG18886 - Amend non-standard codes. Recompile only.                   */
/*       BUG17953 - CCSID of tables cannot be changed (Recompile)              */
/*       CSD031 - Enhanced Centralised Static Data (Recompile)                 */
/*       CSD027 - Conversion Of Customer Number to Alpha                       */
/*       BUG5198 - Performance Enhancement (Recompile)                         */
/*       BUG4521 - Predeal Check Performance Enhancement                       */
/*       BUG3860 - (recompile)                                                 */
/*       BUG2703- Additional changes for deletion handling. (Recompile)        */
/*       CLE025 - Credit Lines (Recompile)                                     */
/*       BUG2221- Recompiled due to change in V_MLUTILSR                       */
/*       BG2225 - Increase size of LVXML, add primary key constraint to LVID   */
/*       BUG1741- Ad Hoc customer group shown as invalid utiliser in error     */
/*       CGP001 - Global Processing                                            */
/*                                                                             */
/*******************************************************************************/
  CREATE VIEW **********/**********                                             :
  AS                                                                            :
  SELECT                                                                        :
   T_MLLIMIT.*,                                                                 :
   TTBLCODE AS LITNRTBL,                                                        :
   TFROM AS LITNRFRM,                                                           :
   TTO AS LITNRTO,                                                              :
   CASE LIENTYTYPE                                                              :
     WHEN 1 THEN A8BRNM                                                         :
     ELSE BGNAME                                                                :
   END AS LIENTYNAME,                                                           :
   UTSRNAME AS LIUTSRNAME,                                                      :
   NGNAME AS LIINSTNAME                                                         :
  FROM T_MLLIMIT                                                                :
  LEFT OUTER JOIN T_MLTENOR ON LITENOR = TID                                    :
  LEFT JOIN V_MLBRCHA ON LIENTYCODE = A8BRCD AND LIENTYTYPE = 1                 :
  LEFT JOIN V_GRBRCHG ON LIENTYCODE=CAST(BGID AS VARCHAR(10)) AND LIENTYTYPE = 2:
**LEFT*OUTER*JOIN*V_MLUTILSR*ON*LIUTSRTYPE*=*UTSRTYPE*AND*LIUTSRCODE*=*UTSRCODE*: BUG4521
  LEFT OUTER JOIN T_GPUTILSR ON LIUTSRTYPE = UTSRTYPE AND LIUTSRCODE = UTSRCODE : BUG4521
  LEFT OUTER JOIN V_GRINSTG ON LIINSTGRP = NGID ;                               :
                                                                                :
/*******************************************************************************/
 ;                                                                              :
  label on table     **********/**********                                      :
   is 'Midas GP Limits Lookup                            ';                     :
                                                                                :
