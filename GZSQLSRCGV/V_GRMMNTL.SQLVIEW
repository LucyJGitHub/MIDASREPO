/************************************************************************************/
/*                                                                                  */
/*       Midas - Global Processing Module                                           */
/*                                                                                  */
/*       V_GRMMNTL  - Global Menu Maintenance detail                                */
/*                    This differs from V_GRMENUL in that                           */
/*                    all menu items are loaded up; otherwise the layout is the same*/
/*                                                                                  */
/*       (c) Finastra International Limited 2004                                    */
/*                                                                                  */
/*       Last Amend No. MD056561           Date 31Aug20                        */
/*       Prev Amend No. MD056948           Date 12Oct20                        */
/*                      MD055681           Date 31Jul20                        */
/*                      MD046248           Date 27Oct17                        */
/* Bank Fusion Midas 1.4 Base -------------------------------------------------*/
/* Midas Plus 1.4 Base 04 -----------------------------------------------------*/
/*                      BG18886            Date 30May08                        */
/* Midas Plus 1.4 Base --------------------------------------------------------*/
/* Midas Plus 1.3 ---------------- Base ---------------------------------------*/
/*                      CUP031             Date 08Feb05                        */
/*                      CGP009             Date 22Dec04               */
/*                      BUG2481            Date 07May04               */
/*                      BUG2287            Date 28Apr04                             */
/*                      BUG1671            Date 29Mar04                             */
/*                      CGP001  *CREATE    Date 24Mar04                             */
/*                                                                                  */
/*----------------------------------------------------------------------------------*/
/*                                                                                  */
/*       MD056561 - Deliverable Data Split for SFMENUPD and GPMTXTPD           */
/*       MD056948 - Missing selection when feature is disabled.                */
/*       MD055681 - Deliverable Data Split for SAR                             */
/*       MD046248 - Finastra Rebranding                                        */
/*       BG18886 - Amend non-standard codes.                                        */
/*       CUP031 - Creation of new set of Action File utilities.       */
/*       CGP009 - Local Zone Time Difference (recreate)                             */
/*       BUG2481- Recompile                                                         */
/*       BUG2287- Show consolidated global view (Recompile)                         */
/*       BUG1671- Recompile                                                         */
/*       CGP001 - Global Processing                                                 */
/*                                                                                  */
/************************************************************************************/
  CREATE VIEW                                                                        :
  **********/**********                                                              :
  AS                                                                                 :
  SELECT                                                                             :
   MLHYID,MLID,MLENDID,MLGRPID,MLLEVEL,MLPARENT,MLMENUCODE,ZOMSYS,                   :
   CASE WHEN MLLEVEL = 2  THEN 'BUTTON' ELSE 'BLANK' END AS TYPE,                    :
   V_GRMENU.MISNAM AS NAME,                                                          :
   CASE WHEN MIFRAM IS NULL OR MIFRAM = '' THEN 'MENUCONTENT' ELSE                   :
   MIFRAM END AS FRAME,                                                              :
***CASE WHEN MIEXTP = 'W' THEN '*WEBFACING(''' ** MLMENUCODE ** ''',''' *************:       BG18886
***** ZOMSYS **''')' ELSE MIPATH END AS NAVIGATE, ***********************************:       BG18886
   CASE WHEN MIEXTP = 'W' THEN '*WEBFACING(''' CONCAT MLMENUCODE CONCAT ''','''      :       BG18886
   CONCAT ZOMSYS CONCAT ''')' ELSE MIPATH END AS NAVIGATE,                           :       BG18886
   'N' AS DISABLED,                                                                  :
***GPMTXTPD.MIINAR*AS*DESCRIPTN,*****************************************************:      MD056561
   GPMTXJW0.MIINAR AS DESCRIPTN,                                                     :      MD056561
***V_GRMENU.MIZONE,*GPMTXTPD.MIINDX*AS*MIINDX,*V_GRMENU.MIEXTP,V_GRMENU.MISNAM,******:      MD056561
   V_GRMENU.MIZONE, GPMTXJW0.MIINDX AS MIINDX, V_GRMENU.MIEXTP,V_GRMENU.MISNAM,      :      MD056561
***GPMTXTPD.MIINAR,V_GRMENU.MIFRAM,V_GRMENU.MIPATH,V_GRMENU.MISECL,******************:      MD056561
   GPMTXJW0.MIINAR,V_GRMENU.MIFRAM,V_GRMENU.MIPATH,V_GRMENU.MISECL,                  :      MD056561
   V_GRMENU.SECACTION                                                                :
   FROM T_GRMENUL LEFT JOIN V_GRMENU ON MLMENUCODE = V_GRMENU.MIINDX                 :
***LEFT*JOIN*GPZONEPD*ON*MIZONE*=*ZOZONE*LEFT*JOIN*GPMTXTPD*ON***********************:      MD056561
   LEFT JOIN GPZONEPD ON MIZONE = ZOZONE LEFT JOIN GPMTXJW0 ON                       :      MD056561
***MLMENUCODE*=*GPMTXTPD.MIINDX******************************************************:      MD056561
   MLMENUCODE = GPMTXJW0.MIINDX                                                      :      MD056561
/************************************************************************************/
 ;                                                                              :
  label on table     **********/**********                                      :
   is 'Midas GZ global menu maintenance detail           ';                     :
                                                                                :
