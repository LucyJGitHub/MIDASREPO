     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas HF Delete duplicate entries')
/*OVRF*: OVRDBF XX HFJRNLPD                                         : *
     F*****************************************************************
     F*                                                               *
     F*  Midas - HISTORY AND AUDIT FACILITY
     F*                                                               *
     F*  HF0230 - HAF Delete Duplicate Entries                        *
     F*                                                               *
     F*  Function : To remove duplicate journal entries               *
     F*  (COB)                                                        *
     F*                                                               *
     F*  Called By: HFC0200 - Extract journal entires in COB          *
     F*             HFC0230 - Delter superflous entries               *
     F*                                                               *
     F*  Calls    :                                                   *
     F*                                                               *
      *  (c) Misys International Banking Systems Ltd. 2001            *
     F*                                                               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
     F*  LAST AMEND NO. S01379             DATE 16SEP92               *
     F*                                                               *
     F*---------------------------------------------------------------*
     F*                                                               *
     F*  S01379 - HISTORY AND AUDIT FACILITY                          *
     F*           NEW PROGRAM CREATED FOR SAR.                        *
     F*                                                               *
     F*****************************************************************
     F*  C R E A T I O N     P A R A M E T E R S                      *
     F*                                                               *
     F*  Compiler directive for file XX                               *
     F*                                                               *
     F*                                                               *
     F*****************************************************************
     FXX      UP  E                    DISK
     FHFDUPEPDUF  E           K        DISK                      A
      /SPACE 3
     F*****************************************************************
     F*                                                               *
     F*  F U N C T I O N   O F   I N D I C A T O R S                  *
     F*                                                               *
     F*  99    - SET LOWER LIMIT TO PF/HFDUPEPD                       *
     F*  U1    - DUPLICATE ENTRY DELETED                              *
     F*                                                               *
     F*****************************************************************
      /SPACE 3
     E                    CPY@    1   1 80
      *
      ** Array containing Copyright statement
      *
      /SPACE 3
      *
     ILDA       E DSLDA                         256
      *
      ** Local data area for database error details
      *
      /EJECT
      *
      ** SET UP COPYRIGHT PARAMETER
      *
     C                     MOVEACPY@      BIS@   80
      *
      ** DEFINE LOCAL DATA AREA
      *
     C           *NAMVAR   DEFN           LDA
      *
     C           KEY       KLIST
     C                     KFLD           JODATE
     C                     KFLD           JOTIME
     C                     KFLD           JOSEQN
     C           KEY       SETLLHFDUPEPD                 99
      *
      ** WRITE JOURNAL ENTRY TO DUPLICATE ENTRIES EXTRACT PF IF NOT EXIST
      *
     C  N99                WRITEHFDUPEP0
      *
      ** DELETE THE JOURNAL ENTRY FROM JOURNAL FILE
      *
     C   99                SETON                     U1
     C   99                DELETQJORDJE
      *
**  CPY@
(c) Misys International Banking Systems Ltd. 2001
