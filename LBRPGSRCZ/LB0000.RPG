     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas LB Trailer initialisation.')
     F*****************************************************************
     F*                                                               *
     F*  Midas - Portfolio Lending Module                         *
     F*                                                               *
     F*  LB0000 - Portfolio Lending Installation Process              *
     F*                                                               *
      *  (c) Finastra International Limited 2001                      *
     F*                                                               *
      *  Last Amend No. MD046248           Date 27Oct17               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
      *  Prev Amend No. S01498             Date 11Aug94               *
      *                 B4817              Date 05/06/91              *
     F*                 B4816              DATE 07/09/90              *
     F*                                                               *
     F*****************************************************************
     F*                                                               *
      *  MD046248 - Finastra Rebranding                               *
     F*  S01498 - Portfolio Lending Upgrade to Release 10.            *
     F*  B4817  - REMOVE B4816 AND INITIALIZE SDLOMBPD                *
     F*  B4816  - UPDATE OF SDMMODPD & MMODF NO LONGER REQUIRED       *
     F*                                                               *
     F*****************************************************************
     F*                                                               *
     F*  C R E A T I O N     P A R A M E T E R S                      *
     F*                                                               *
     F*                                                               *
     F*****************************************************************
     F*SDMMODPDUF  E           K        DISK         KINFSR *PSSR   B4817 S01498
     F*MMODF***UF  E           K        DISK         KINFSR *PSSR   B4817 S01498
     FLBTRAIPDO   E                    DISK         KINFSR *PSSR
     F*SDLOMBPDUF  E                    DISK         KINFSR *PSSR A B4817 S01498
     E                    CPY@    1   1 80                                S01498
     E***  Array for Object Copyright Statement.                          S01498
     E*                                                                   S01498
     I********************************************************************S01498
     I***LOCAL*DATA*AREA*FOR*DATABASE*ERROR*DETAILS***********************S01498
     I*LDA******* UDS                            256                      S01498
     I***********                           132 141 DBFILE                S01498
     I***********                           142 170 DBKEY                 S01498
     I***********                           171 180 DBPGM                 S01498
     I***********                           181 1830DBASE                 S01498
     I********************************************************************S01498
     I***MODULE*DATA*STRUCTURE********************************************S01498
     I*MMOD****** UDS                            256                B4817 S01498
     I***********                            82  82 WWLMCR          B4817 S01498
     C*                                                                   S01498
     C***  Copyright Statement                                            S01498
     C                     MOVEACPY@      ACT@   80                       S01498
     C********************************************************************S01498
     C***SET*ON*PORTFOLIO*LENDING*CREDIT*INDICATOR*ON*PF/SDMMODPD*********S01498
     C***********          READ SDMMODPD                 74         B4817 S01498
     C************IN74     IFEQ '1'                  ***************B4817 S01498
     C***********          MOVEL'01'      DBASE      **DB ERROR 01**B4817 S01498
     C***********          MOVEL'SDMMODPD'DBFILE     ***************B4817 S01498
     C***********          MOVE *BLANKS   DBKEY                     B4817 S01498
     C***********          EXSR *PSSR                               B4817 S01498
     C***********          END                                      B4817 S01498
     C**************************************************************B4817 S01498
     C***********          MOVE 'Y'       BGLMCR                    B4817 S01498
     C***********          UPDATSDMMODD0                            B4817 S01498
     C**************************************************************B4817 S01498
     C***SET*ON*PORTFOLIO*LENDING*CREDIT*INDICATOR*ON*DTAARA/MMOD***B4817 S01498
     C***********          MOVE 'Y'       WWLMCR                    B4817 S01498
     C**************************************************************B4817 S01498
     C***SET*ON*PORTFOLIO*LENDING*CREDIT*INDICATOR*ON*PF/SDMMODPD***B4817 S01498
     C***********          READ MMODF                    74         B4817 S01498
     C************IN74     IFEQ '1'                  ***************B4817 S01498
     C***********          MOVEL'02'      DBASE      **DB ERROR 02**B4817 S01498
     C***********          MOVEL'MMODF'   DBFILE     ***************B4817 S01498
     C***********          MOVE *BLANKS   DBKEY                     B4817 S01498
     C***********          EXSR *PSSR                               B4817 S01498
     C***********          END                                      B4817 S01498
     C**************************************************************B4817 S01498
     C***********          MOVE 'Y'       LBFL                      B4817 S01498
     C***********          UPDATMMODFF                              B4817 S01498
     C*
     C** INITIALISE FILE TRAILER FOR LBTRAIPD
     C                     MOVE 'T'       TRRECI
     C                     MOVEL'LBBPWRPD'TRFILE
     C                     Z-ADD0         TRLCD
     C                     Z-ADD0         TRORED
     C                     Z-ADD0         TRINS
     C                     Z-ADD0         TRAMD
     C                     Z-ADD0         TRDEL
     C                     Z-ADD0         TRLIVE
     C                     WRITELBTRAID0
     C*
     C                     MOVE 'T'       TRRECI
     C                     MOVEL'LBCOMAPD'TRFILE
     C                     Z-ADD0         TRLCD
     C                     Z-ADD0         TRORED
     C                     Z-ADD0         TRINS
     C                     Z-ADD0         TRAMD
     C                     Z-ADD0         TRDEL
     C                     Z-ADD0         TRLIVE
     C                     WRITELBTRAID0
     C*
     C                     MOVE 'T'       TRRECI
     C                     MOVEL'LBCOMTPD'TRFILE
     C                     Z-ADD0         TRLCD
     C                     Z-ADD0         TRORED
     C                     Z-ADD0         TRINS
     C                     Z-ADD0         TRAMD
     C                     Z-ADD0         TRDEL
     C                     Z-ADD0         TRLIVE
     C                     WRITELBTRAID0
     C*
     C                     MOVE 'T'       TRRECI
     C                     MOVEL'LBEXTRPD'TRFILE
     C                     Z-ADD0         TRLCD
     C                     Z-ADD0         TRORED
     C                     Z-ADD0         TRINS
     C                     Z-ADD0         TRAMD
     C                     Z-ADD0         TRDEL
     C                     Z-ADD0         TRLIVE
     C                     WRITELBTRAID0
     C*
     C                     MOVE 'T'       TRRECI
     C                     MOVEL'LBEXTSPD'TRFILE
     C                     Z-ADD0         TRLCD
     C                     Z-ADD0         TRORED
     C                     Z-ADD0         TRINS
     C                     Z-ADD0         TRAMD
     C                     Z-ADD0         TRDEL
     C                     Z-ADD0         TRLIVE
     C                     WRITELBTRAID0
     C*
     C                     MOVE 'T'       TRRECI
     C                     MOVEL'LBGROUPD'TRFILE
     C                     Z-ADD0         TRLCD
     C                     Z-ADD0         TRORED
     C                     Z-ADD0         TRINS
     C                     Z-ADD0         TRAMD
     C                     Z-ADD0         TRDEL
     C                     Z-ADD0         TRLIVE
     C                     WRITELBTRAID0
     C*
     C                     MOVE 'T'       TRRECI
     C                     MOVEL'LBPLEGPD'TRFILE
     C                     Z-ADD0         TRLCD
     C                     Z-ADD0         TRORED
     C                     Z-ADD0         TRINS
     C                     Z-ADD0         TRAMD
     C                     Z-ADD0         TRDEL
     C                     Z-ADD0         TRLIVE
     C                     WRITELBTRAID0
     C**************************************************************B4817 S01498
     C***INITIALIZE*SDLOMBPD****************************************B4817 S01498
     C**************************************************************B4817 S01498
     C***********          READ SDLOMBPD                 80         B4817 S01498
     C***********          MOVEL'LOMB'    LBBACD                    B4817 S01498
     C***********          MOVE 'D'       LBRECI                    B4817 S01498
     C***********          Z-ADD0         LBDLUP                    B4817 S01498
     C***********          MOVE *BLANKS   LBMLUP                    B4817 S01498
     C***********          Z-ADD0         LBYLUP                    B4817 S01498
     C***********          Z-ADD0         LBTLUP                    B4817 S01498
     C***********          MOVE *BLANKS   LBCHTP                    B4817 S01498
     C***********          MOVE *BLANKS   LBCCY                     B4817 S01498
     C***********          MOVE *BLANKS   LBCMNV                    B4817 S01498
     C***********          MOVE *BLANKS   LBFRCL                    B4817 S01498
     C***********          MOVE *BLANKS   LBINBP                    B4817 S01498
     C***********          MOVE *BLANKS   LBPLEC                    B4817 S01498
     C***********          MOVE *BLANKS   LBHELD                    B4817 S01498
     C***********          MOVE *BLANKS   LBCUSI                    B4817 S01498
     C***********          MOVE *BLANKS   LBPLEG                    B4817 S01498
     C***********          MOVE *BLANKS   LBGUAR                    B4817 S01498
     C***********          MOVE *BLANKS   LBCOLI                    B4817 S01498
     C***********          MOVE *BLANKS   LBSECU                    B4817 S01498
     C***********          MOVE *BLANKS   LBFXUP                    B4817 S01498
     C***********          MOVE *BLANKS   LBFXUL                    B4817 S01498
     C***********          MOVE *BLANKS   LBFXMA                    B4817 S01498
     C***********          MOVE *BLANKS   LBFXMC                    B4817 S01498
     C***********          MOVE *BLANKS   LBFXPL                    B4817 S01498
     C***********          MOVE *BLANKS   LBPMUP                    B4817 S01498
     C***********          MOVE *BLANKS   LBPMUL                    B4817 S01498
     C***********          MOVE *BLANKS   LBPMMA                    B4817 S01498
     C***********          MOVE *BLANKS   LBPMMC                    B4817 S01498
     C***********          MOVE *BLANKS   LBPMPL                    B4817 S01498
     C***********          Z-ADD0         LBLCD                     B4817 S01498
     C***********          Z-ADD0         LBORED                    B4817 S01498
     C***********          Z-ADD0         LBPERE                    B4817 S01498
     C***********          Z-ADD0         LBAMTE                    B4817 S01498
     C***********          Z-ADD0         LBFXMP                    B4817 S01498
     C***********          Z-ADD0         LBFXCP                    B4817 S01498
     C***********          Z-ADD0         LBPERL                    B4817 S01498
     C***********          Z-ADD0         LBPMMP                    B4817 S01498
     C***********          Z-ADD0         LBPMCP                    B4817 S01498
     C************IN80     IFEQ '1'                                 B4817 S01498
     C***********          WRITESDLOMBD0                            B4817 S01498
     C***********          ELSE                                     B4817 S01498
     C***********          UPDATSDLOMBD0                            B4817 S01498
     C***********          END                                      B4817 S01498
     C*
     C                     SETON                     LR
     C*****************************************************************
      /EJECT
     C*****************************************************************
     C**
     C**   FILE EXEPTION/ERROR HANDLING SUBROUTINE
     C**
     C*****************************************************************
     C           *PSSR     BEGSR
     C*
     C                     SETON                     U7U8LR
     C**
     C** ROLL BACK CHANGES, PRINT DUMP AND CANCEL PROGRAM
     C                     ROLBK
     C                     DUMP
     C                     RETRN
     C**
     C                     ENDSR
     C/EJECT                                                              S01498
** CPY@ - OBJECT COPYRIGHT
(c) Finastra International Limited 2001
