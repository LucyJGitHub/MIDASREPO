/*********************************************************************/
/*STD    CLPBASEBND                                                  */
/*EXI *  TEXT('Midas SC Open Month End Copy Database')               */
/*********************************************************************/
/*                                                                   */
/*       Midas     - System Control Module                           */
/*                                                                   */
/*       SCC000105 - Open Month End Copy Database                    */
/*                                                                   */
/*       (c) Misys International Banking Systems Ltd. 2005           */
/*                                                                   */
/* Bank Fusion Midas 1.4 Base ---------------------------------------*/
/* Midas Plus 1.4 Base 04 -------------------------------------------*/
/* Midas Plus 1.4 Base ----------------------------------------------*/
/* Midas Plus 1.3 ---------------- Base -----------------------------*/
/*       Last Amend No. BUG10799           Date 13Jun06              */
/*       Prev Amend No. CSC024  *CREATE    Date 07Feb05              */
/*                                                                   */
/*********************************************************************/
/*                                                                   */
/*       BUG10799 - SCC000105 cannot be compiled without SYSLIB400,  */
/*                  use CLRDBLIB instead of CLRDTALIB.               */
/*       CSC024 - Open Month End                                     */
/*                                                                   */
/*********************************************************************/
 
             PGM        PARM(&DUMDM &DUMDT &DMLIBO &DTALIBO &JBNM)
 
             DCL        VAR(&DMLIBO) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DTALIBO) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DUMDM) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DUMDT) TYPE(*CHAR) LEN(10)
 
             DCL        VAR(&JBNM) TYPE(*CHAR) LEN(10)
             DCL        VAR(&MSG) TYPE(*CHAR) LEN(80) VALUE(' ')
             DCL        VAR(&CPYFLD) TYPE(*CHAR) LEN(64) VALUE('(c) +
                          Misys International Banking Systems Ltd. +
                          2005')
 
/** Global Monitor Message */
 
             MONMSG     MSGID(CPF0000 MCH0000 RPG0000) EXEC(GOTO +
                          CMDLBL(NOCOPY))
 
CLRDM:       DLTF       FILE(QTEMP/DSPFD)
             MONMSG     CPF0000
             DSPFD      FILE(&DMLIBO/*ALL) TYPE(*MBRLIST) +
                          OUTPUT(*OUTFILE) OUTFILE(QTEMP/DSPFD) +
                          FILEATR(*PF)
             MONMSG     MSGID(CPF3012) EXEC(GOTO CMDLBL(CLRDTA))
/**********  CLRDTALIB  LIB(&DMLIBO)     */                                             /*BUG10799*/
             CLRDBLIB   LIB(&DMLIBO)                                                    /*BUG10799*/
 
CLRDTA:      DLTF       FILE(QTEMP/DSPFD)
             MONMSG     CPF0000
             DSPFD      FILE(&DTALIBO/*ALL) TYPE(*MBRLIST) +
                          OUTPUT(*OUTFILE) OUTFILE(QTEMP/DSPFD) +
                          FILEATR(*PF)
             MONMSG     MSGID(CPF3012) EXEC(GOTO CMDLBL(CPYDM))
/**********  CLRDTALIB  LIB(&DTALIBO)    */                                             /*BUG10799*/
             CLRDBLIB   LIB(&DTALIBO)                                                   /*BUG10799*/
 
 CPYDM:      CPYDBLIB   FROMLIB(&DUMDM) TOLIB(&DMLIBO) SYSPFX(*NO)
 CPYDTA:     CPYDBLIB   FROMLIB(&DUMDT) TOLIB(&DTALIBO) SYSPFX(*NO)
 
             CHGDTAARA  DTAARA(OMESTAT) VALUE('S')
             GOTO       CMDLBL(ENDP)
 
NOCOPY:      CHGDTAARA  DTAARA(OMESTAT) VALUE('F')
 
ENDP:        CHGVAR     VAR(&CPYFLD) VALUE('(c) +
                          Misys International Banking Systems Ltd.')
             ENDPGM
