     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas SC Check if i/c termination save is complete')
      *****************************************************************
      *                                                               *
      *  Midas - System Control Module                                *
      *                                                               *
      *  SC1714 - Check if I/C Termination Save is Complete.          *
      *                                                               *
      *  (c) Misys International Banking Systems Ltd. 2001            *
      *                                                               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
      *  Last Amend No. 111332  *CREATE    DATE 05FEB98               *
      *                                                               *
      *****************************************************************
      *                                                               *
      *  111332 - New program written to check if I/C Termination     *
      *           Datasave is complete.                               *
      *                                                               *
      *****************************************************************
     FCBCOMSL0IF  E           K        DISK
      /SPACE 2
      *****************************************************************
      *                                                               *
      *     C  L   FUNCTION OF INDICATORS                             *
      *                                                               *
      *    35      NO RECORDS IN COMPONENTS FILE - CBCOMSL0           *
      *                                                               *
      *       LR   LAST RECORD INDICATOR                              *
      *                                                               *
      *****************************************************************
     F/EJECT
     E                    CPY@    1   1 80
      ** COPYRIGHT ARRAY
      *
      *****************************************************************
     E/EJECT
      *
     ICPYR@#      DS
     I                                        1  80 CPY@
     I                                        1  20 CPY@##
      **  DATA STRUCTURE FOR COMPILATION  - COPYRIGHT INSERTION
      *
     ILDA         DS                            256
     I                                      134 138 DBFILE
     I                                      139 167 DBKEY
     I                                      168 175 DBPGM
     I                                      176 1770DBASE
      *
      *****************************************************************
     I/EJECT
      *
     C           *ENTRY    PLIST
     C                     PARM           CMSTS   1
      *
      ** KEY TO READ TO CBCOMSL0
      *
     C           COMKEY    KLIST
     C                     KFLD           COMPNM
     C                     KFLD           COMPSQ
      *
      ** DEFINE LOCAL DATA AREA
      *
     C           *NAMVAR   DEFN           LDA
      *
      ** SET UP PROGRAM NAME FOR DATABASE ERRORS
      *
     C           *LOCK     IN   LDA
     C                     MOVEL'SC1714'  DBPGM
     C                     MOVE *BLANKS   DBKEY
     C                     OUT  LDA
      *
      ** Get component SCC1711
      *
     C                     MOVE *BLANK    COMPNM 10
     C                     MOVEL'SCC1711' COMPNM
     C                     MOVE '00001'   COMPSQ  5
      *
     C           COMKEY    CHAINCBCOMSL0             35
      *
      ** IF RECORD NOT FOUND ON CBCOMSL0 SET
      ** COMPONENT STATUS PARAMETER TO 'A'
      *
     C           *IN35     IFEQ '1'
      *
     C           *LOCK     IN   LDA
     C                     MOVELCOMPNM    KEYFLD 15
     C                     MOVE COMPSQ    KEYFLD
     C                     MOVELKEYFLD    DBKEY
     C                     MOVEL'CMPL0'   DBFILE           ***************
     C                     Z-ADD1         DBASE            * DB ERROR 01 *
     C                     MOVE 'F'       CMSTS            ***************
      *
     C                     ELSE
     C           DHCSTS    IFEQ 'C'
     C                     MOVE 'Y'       CMSTS
     C                     ELSE
     C                     MOVE 'N'       CMSTS
     C                     END
      *
     C                     END
      *
     C                     SETON                     LR
      *
     C                     RETRN
      *
      *****************************************************************
      /EJECT
**  CPY@
(c) Misys International Banking Systems Ltd. 2001
