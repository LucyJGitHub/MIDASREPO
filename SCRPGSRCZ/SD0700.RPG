0001 H
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas SC Restart/recovery - set up of MMOD')
0002 F********************************************************************
0004 F*                                                                  *
     F*  Midas - System Control Module
0004 F*                                                                  *
0005 F*    SD0700 - SETUP D/MMOD MODULE INDICATORS                       *
0006 F*                                                                  *
      *  (c) Misys International Banking Systems Ltd. 2001            *
0008 F*                                                                  *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
     F*    LAST AMEND. NO. E29436            DATE 11OCT91                *
     F*    PREV AMEND. NO. S01194            DATE 22FEB90                *
     F*                    S01156            DATE 22/04/88               *
0010 F*                                                                  *
0010 F********************************************************************
0010 F*                                                                  *
     F*    E29436  -  MOVE TO SCRPGSRC FROM RR                           *
     F*    S01194  -  NEW STANDING DATA                                  *
0010 F*    S01156  -  PROGRAM AMENDED FOR TESTKEY INTERFACE              *
0010 F*    S01147  -  PROGRAM RE-WRITTEN FOR R22                         *
0010 F*                                                                  *
0011 F********************************************************************
0012 F*
     F*  C R E A T I O N     P A R A M E T E R S                      *
     F*                                                               *
     F*                                                               *
     F*****************************************************************
0013 FMMODF   IF  E                    DISK
     F                                              KRECNO RCD
     F                                              KCOMIT
0014 F* ID F  C  H  L    FUNCTION OF INDICATORS
0015 F* 05            OFF FOR FIRST CYCLE
0040 F*       80      INSTALLATION CONTROL DATA FOUND
0041 F*       U7 U8   DATABASE ERROR
0042 E                    MODS      256  1               MODULE INDICATORS
     E                    CPY@    1   1 80
0067 I*
0068 I*   MMOD DATA STRUCTURE CONTAINING MODULES INDICATORS
0069 IMMOD       UDS                            256
0070 I                                        1 256 MODS
     I                                        1   1 SDGL
     I                                        2   2 DLFL
     I                                        3   3 RTFL
     I                                        4   4 CLFL
     I                                        5   5 STFL
     I                                        6   6 BCFL
     I                                        7   7 EMFL
     I                                        8   8 FMFL
     I                                        9   9 SRFL
     I                                       10  10 LEFL
     I                                       11  11 FDFL
     I                                       12  12 CMFL
     I                                       13  13 FXFL
     I                                       14  14 MMFL
     I                                       15  15 CNFL
     I                                       16  16 RETF
     I                                       18  18 MSWF
     I                                       19  19 ABFL
     I                                       20  20 CAFL
     I                                       21  21 SEFL
     I                                       22  22 RCFL
     I                                       23  23 IAFL
     I                                       25  25 SWDE
     I                                       26  26 SWSM
     I                                       27  27 SWCO
     I                                       28  28 SWLN
     I                                       29  29 SWLC
     I                                       30  30 SWTR
     I                                       31  31 SWMO
     I                                       32  32 SWCN
     I                                       33  33 TLDE
     I                                       34  34 TLSM
     I                                       35  35 TLCO
     I                                       36  36 TLLN
     I                                       37  37 TLLC
     I                                       38  38 TLTR
     I                                       39  39 TLTX
     I                                       40  40 TLAR
     I                                       41  41 CHDE
     I                                       42  42 CHCO
     I                                       43  43 CHLN
     I                                       44  44 CHSM
     I                                       45  45 CHLC
     I                                       46  46 CHTR
     I                                       47  47 CHTX
     I                                       48  48 CHAT
     I                                       49  49 GRFL
     I                                       50  50 FFFL
     I                                       51  51 MTFL
     I                                       52  52 MTCO
     I                                       53  53 MTDE
     I                                       54  54 MTGE
     I                                       55  55 MTLN
     I                                       56  56 NMFL
     I                                       57  57 FTFL
     I                                       58  58 TKFL                  S01156
     I**   STANDARD LOCAL DATA AREA FIELDS
     ILDA        UDS                            256
     I**************                        134 138 DBFILE                S01194
     I**************                        139 167 DBKEY                 S01194
     I**************                        168 175 DBPGM                 S01194
     I**************                        176 1770DBASE                 S01194
     I                                      134 141 DBFILE                S01194
     I                                      142 170 DBKEY                 S01194
     I                                      171 180 DBPGM                 S01194
     I                                      181 1830DBASE                 S01194
     C                     MOVEACPY@      BIS@   80
     C*     INITIALISE LDA
     C   05                GOTO NOTFC
     C  N05                MOVE 'N'       MODS
     C  N05                SETON                     05
     C*
     C           NOTFC     TAG                             ** NOTFC TAG **
     C*
     C           *NAMVAR   DEFN           LDA
     C           *LOCK     IN   LDA
     C                     MOVE *BLANKS   DBFILE
     C                     MOVE *BLANKS   DBKEY
     C                     MOVE *BLANKS   DBPGM
     C                     MOVE *BLANKS   DBASE
     C                     OUT  LDA
0080 C***  READ MMODF
     C                     Z-ADD1         RCD     10
     C           RCD       SETLLMMODFF
     C                     READ MMODFF                   80
0080 C*
     C   80      *LOCK     IN   LDA
     C   80                SETON                     U7U8
     C   80                MOVEL'MMODF'   DBFILE           ***************
     C   80                Z-ADD01        DBASE            *  DBASE 01****
     C   80                MOVE 'SD0700  'DBPGM            ************
     C   80                OUT  LDA
0080 C*
0081 C                     SETON                     LR
0082 C*
0131 C           END       TAG                             ** END TAG **
**  CPY@
(c) Misys International Banking Systems Ltd. 2001
