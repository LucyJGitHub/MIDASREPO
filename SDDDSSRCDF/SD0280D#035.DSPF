      *****************************************************************
/*STD *  DSPFBASE                                                     *
/*EXI *  TEXT('Midas SD  type/subtype display subfile')               *
      *****************************************************************
      *                                                               *
      *  Midas - Standing Data Module                                 *
      *                                                               *
      *  DSPF/SD0280D# - Loan Type/Subtype Subfile Display.           *
      *                                                               *
      *  (c) Misys International Banking Systems Ltd. 2001            *
      *                                                               *
      *  Last Amend No. AR678116           Date 27Nov12               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      *  Prev Amend No. BUG11801           Date 28Jul06               *
      *                 BUG11727           Date 19Jul06               *
      *                 CSD031             Date 10Apr06               *
      *                 CLE042             Date 06Sep05               *
      *                 CAAA03             Date 30Mar04               *
      *                 BG1346             Date 01Mar04               *
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.04 -----------------------------------------------*
      *                 CSD003             Date 02JAN98               *
      * Midas DBA 3.00 ---------------- Base -------------------------*
      *                 080676             DATE 22DEC94               *
      *                 S01486             DATE 26JUL94               *
      *                 S01459             DATE 26JUL94               *
      *                                                               *
      *---------------------------------------------------------------*
      *                                                               *
      *  AR678116 - SD There is "X" option that does not work and not *
      *             in the list of description.                       *
      *             Use #1SEL2 instead of #1SEL if *IN71 is on.       *
      *             (CSD042 is off)                                   *
      *             (Child: AR679541)                                 *
      *  BUG11801 - Cannot locate record in zonal acceptance list     *
      *             when record was globally deleted                  *
      *  BUG11727 - White fields in listview                          *
      *  CSD031 - Enhanced Centralised Static Data                    *
      *  CLE042 - Extended Loan Sub Type                              *
      *  CAAA03 - Webfacing Changes.                                  *
      *  BG1346 - Global instrument and product code not displayed    *
      *  CSD003 - Synon Closedown Project (SD):                       *
      *           - File removed from SD model.                       *
      *  080676 - Wrong Instrument Type used for Portfolio Lending    *
      *  S01486 - Private Banking Development:                        *
      *           Regenerate / compile.                               *
      *  S01459 - Addition of Midas headerbox.                        *
      *                                                               *
      *****************************************************************
      **Start of change CSD031
     A                                      DSPSIZ(27 132 *DS3)
      **End of change CSD031
     A                                      INDARA
     A                                      PRINT(MPRINT)
     A                                      CHGINPDFT
     A*=========================================================================
     A*/COPY WNCPYSRC,SD0280D#99
     A          R #SFLRCD                   TEXT('(c) Misys International +
     A                                      Banking Systems Ltd. +
     A                                      2001')
     A*/COPY WNCPYSRC,SD0280D#98
     A                                      SFL
     A                                      SETOF(98 'Force input format')
     A                                      INDTXT(84 'Subfile next change')
      **Start of change AR678116
     A**********                            INDTXT(34 'Invalid: #1SEL')                     AR678116
     A                                      INDTXT(34 'Invalid: #1SEL +
     A                                      or #1SEL2')
      **End of change AR678116
     A  84                                  SFLNXTCHG
     A            #1LCD          5  0H      TEXT('Last Change Date')
     A            #1TYLC         1   H      TEXT('Type of Last Change')
     A            #1LNPT         2  0H      TEXT('Loan Processing Type')
     A            #1EXPC         5  3H      TEXT('Exposure Percentage')
     A*                                              Begin /080676/
     A*********** #1INN1         3   H      TEXT('PM Instrument Code (Bwr)')
     A*********** #1INNR         3   H      TEXT('PM Instrument Code (Lndr)')
     A            #1INNR         3   H      TEXT('PM or LB Instrument Code)')
     A*                                              End   /080676/
     A            #1LVLD         1   H      TEXT('Loan to be Valued Ind')
     A            #1DPRC         4   H      TEXT('Default Product Code')
     A            #1RANG         2   H      TEXT('Range Number (LT/ST)')
     A            #1ILTY         2   H      TEXT('Internal Loan Part. Type')
     A            #1ILST         2   H      TEXT('Internal Loan Part SubTyp')
      *                                              Begin /CLE042/
     A************#1SEL**********1***B**8**6
      **Start of change AR678116
     A            #1SEL2         1   B  8  3
     A                                      VALUES('E' +
     A                                             'A' +
     A                                             'D' +
     A                                                 )
     A                                      CHECK(AB)
     A  34 71                               DSPATR(RI PC)
     A N34 71                               DSPATR(UL HI)
     A N71                                  DSPATR(ND PR)
      **End of change AR678116
     A            #1SEL          1   B  8  3
      *                                              End   /CLE042/
     A                                      VALUES('E' +
     A                                             'A' +
     A                                             'D' +
      **Start of change CSD031
     A                                             'X' +
      **End of change CSD031
     A                                                 )
     A                                      CHECK(AB)
      **Start of change AR678116
     A**34******                            DSPATR(RI PC)                                   AR678116
     A*N34******                            DSPATR(UL HI)                                   AR678116
     A  34N71                               DSPATR(RI PC)
     A N34N71                               DSPATR(UL HI)
     A  71                                  DSPATR(ND PR)
      **End of change AR678116
     A*                                              Begin /BG1346/
     A************#1LNTY         2      8 14TEXT('Loan Type')
     A************                          DSPATR(HI)
     A************#1LNST         2      8 22TEXT('Loan Sub-type')
     A************                          DSPATR(HI)
     A************#1LNTD        30      8 29TEXT('Loan Type Description')
     A************                          DSPATR(HI)
      *                                              Begin /CLE042/
     A************#1LNTY*********2******8*10TEXT('Loan Type')
     A**************************************DSPATR(HI)
     A************#1LNST*********2******8*18TEXT('Loan Sub-type')
     A**************************************DSPATR(HI)
     A            #1LNTY         2      8  6TEXT('Loan Type')
     A                                      DSPATR(HI)
     A            #1LNST         2      8 12TEXT('Loan Sub-type')
     A                                      DSPATR(HI)
     A            #1LNCL         4      8 18TEXT('Loan Class')
     A                                      DSPATR(HI)
      *                                              End   /CLE042/
     A            #1LNTD        30      8 25TEXT('Loan Type Description')
     A                                      DSPATR(HI)
     A            #1PRDC        10      8 57TEXT('Global Product Code')
     A                                      DSPATR(HI)
     A            #1INSC        10      8 69TEXT('Global Instrument Code')
     A                                      DSPATR(HI)
     A*                                              End   /BG1346/
      **Start of change CSD031
     A            #1ACZN         1   O  8 84
     A                                      DSPATR(HI)
     A  71                                  DSPATR(ND)
     A            #1EFDT         6   O  8 93
     A                                      DSPATR(HI)
     A            #1LSAC         1   O  8108
     A                                      DSPATR(HI)
      **Start of change BUG11727
     A*N71******                            DSPATR(ND)                                      BUG11727
     A N71
     AO 70                                  DSPATR(ND)
      **End of change BUG11727
      **End of change CSD031
      *  Last Amend No. BG1346             Date 01Mar04               *
     A*=========================================================================
     A*/COPY WNCPYSRC,SD0280D#97
     A          R #SFLCTL                   TEXT('Subfile control.')
     A*/COPY WNCPYSRC,SD0280D#96
     A                                      SFLCTL(#SFLRCD)
     A                                      SETOF(98 'Force input format')
     A                                      SFLPAG(14) SFLSIZ(15)
     A                                      BLINK OVERLAY
     A  86                                  PUTOVR
     A                                      INDTXT(80 'Clear subfile')
     A                                      INDTXT(81 'Display subfile')
     A                                      INDTXT(82 'End of subfile')
     A                                      INDTXT(86 'Enable PUTOVR')
     A  80                                  SFLCLR
     A N80                                  SFLDSPCTL
     A N25
     AAN80
     AA 81                                  SFLDSP
     A N80 81 82                            SFLEND
     A* Command keys............................................................
     A                                      VLDCMDKEY(29 'Valid command key')
      **Start of change CSD031
     A**********                            CA03(03 'Exit.')                                  CSD031
      ** Start of change BUG11801
     A**41******                            CA03(03 'Exit.')
     A                                      CA03(03 'Exit.')
     A**End of change BUG11801
     A**End of change CSD031
     A                                      CF05(05 'Reset.')
     A N82                                  ROLLUP(27 'Next page.')
      ** Start of change CAAA03
     A**********                            CF09(09 'Add.')                                   CAAA03
     A  60                                  CF09(09 'Add.')
      ** End of change CAAA03
      **Start of change CSD031
     A  44                                  CF11(11 'Acceptance')
     A  43                                  CF12(12 'Previous')
      **End of change CSD031
     A* SETOFFS.................................................................
     A                                      SETOF(99 'Global error flag')
     A                                      SETOF(31 'Invalid: #2LNTY')
     A                                      SETOF(32 'Invalid: #2LNST')
      *                                              Begin /CLE042/
     A                                      SETOF(35 'Invalid: #2LNCL')
      *                                              End   /CLE042/
     A                                      SETOF(33 'Invalid: #2LNTD')
     A*.........................................................................
     A            ##SFRC         4  0H      SFLRCDNBR
     A            ##USR         10      1  2TEXT('*USER')
     A N25                                  OVRDTA
     A            ##PGM         10   H      TEXT('*PROGRAM')
     A                                  1 13'SD0280D1'
     A            ##MRDT         7      1 72TEXT('Midas Run Date')
     A N25                                  OVRDTA
     A            ##JOB         10      2  2TEXT('*JOB')
     A N25                                  OVRDTA
     A            ##URPT        53      2 13TEXT('User Report Title')
     A N25                                  OVRDTA
     A                                      DSPATR(HI)
     A            ##TME          6  0   2 71TEXT('*TIME')
     A                                      EDTWRD('  :  :  ')
     A N25                                  OVRDTA
     A            #2LCD          5  0H      TEXT('Last Change Date')
     A            #2TYLC         1   H      TEXT('Type of Last Change')
     A            #2LNPT         2  0H      TEXT('Loan Processing Type')
     A*                                              Begin /BG1346/
     A**********************************4 13'Loan'
     A**********************************4 19'  Loan'
     A**********************************4 29'Loan'
     A**********************************5 13'Type'
     A**********************************5 19' Subtype'
     A**********************************5 29'Description'
      *                                              Begin /CLE042/
     A**********************************4  9'Loan'
     A**********************************4 15'  Loan'
     A                                  4  5'Loan'
     A                                  4 12'Sub'
      *                                              End   /CLE042/
     A                                  4 25'Loan'
     A                                  4 58'Global'
     A N57                                  DSPATR(ND)
     A                                  4 69'Global'
     A N57                                  DSPATR(ND)
      *                                              Begin /CLE042/
     A**********************************5  9'Type'
     A**********************************5 15' Subtype'
     A                                  5  5'Type'
     A                                  5 11'Type'
     A                                  5 18'Class'
     A N66                                  DSPATR(ND)
      *                                              End   /CLE042/
     A                                  5 25'Description'
     A                                  5 58'Product'
     A N57                                  DSPATR(ND)
     A                                  5 69'Instrument'
     A N57                                  DSPATR(ND)
     A*                                              End   /BG1346/
     A*                                              Begin /BG1346/
     A************#2LNTY         2   B  6 14TEXT('Loan Type')
      *                                              Begin /CLE042/
     A************#2LNTY*********2***B**6*10TEXT('Loan Type')
     A            #2LNTY         2   B  6  6TEXT('Loan Type')
      *                                              End   /CLE042/
     A*                                              End   /BG1346/
     A N25                                  OVRDTA
     A  31                                  DSPATR(RI PC)
     A N31                                  DSPATR(UL HI)
     A N25                                  OVRATR
     A*                                              Begin /BG1346/
     A************#2LNST         2   B  6 22TEXT('Loan Sub-type')
      *                                              Begin /CLE042/
     A************#2LNST*********2***B**6*18TEXT('Loan Sub-type')
     A            #2LNST         2   B  6 12TEXT('Loan Sub-type')
      *                                              End   /CLE042/
     A*                                              End   /BG1346/
     A N25                                  OVRDTA
     A  32                                  DSPATR(RI PC)
     A N32                                  DSPATR(UL HI)
     A N25                                  OVRATR
      *                                              Begin /CLE042/
     A            #2LNCL         4   B  6 18TEXT('Loan Class')
     A N66                                  DSPATR(ND PR)
     A  66                                  DSPATR(UL HI)
     A N25                                  OVRDTA
     A N25                                  OVRATR
      *                                              End   /CLE042/
     A*                                              Begin /BG1346/
     A************#2LNTD        30   B  6 29TEXT('Loan Type Description')
     A            #2LNTD        30   B  6 25TEXT('Loan Type Description')
     A*                                              End   /BG1346/
     A                                      CHECK(LC)
     A N25                                  OVRDTA
     A  33                                  DSPATR(RI PC)
     A N33                                  DSPATR(UL HI)
     A N25                                  OVRATR
     A*                                              Begin /BG1346/
     A            #2PRDC        10   B  6 57TEXT('Global Product Code')
     A N57                                  DSPATR(ND)
     A  57                                  DSPATR(UL HI)
     A N25                                  OVRDTA
     A N25                                  OVRATR
     A            #2INSC        10   B  6 69TEXT('Global Instrument Code')
     A N57                                  DSPATR(ND)
     A  57                                  DSPATR(UL HI)
     A N25                                  OVRDTA
     A N25                                  OVRATR
     A*                                              End   /BG1346/
      **Start of change CSD031
     A            #WACZ1         9      4 82
     A  71                                  DSPATR(ND)
     A            #WACZ2         9      5 83
     A  71                                  DSPATR(ND)
     A            #WLAC1         6   O  4105
      **Start of change BUG11727
     A*N71******                            DSPATR(ND)                                      BUG11727
     A N71
     AO 70                                  DSPATR(ND)
      **End of change BUG11727
     A            #WLAC2         6   O  5105
      **Start of change BUG11727
     A*N71******                            DSPATR(ND)                                      BUG11727
     A N71
     AO 70                                  DSPATR(ND)
      **End of change BUG11727
     A            #2ACZN         1   B  6 84
     A  71                                  DSPATR(ND)
     A  72                                  DSPATR(PR)
     A N42                                  DSPATR(UL)
     A N42                                  DSPATR(HI)
     A N25                                  OVRDTA
     A N25                                  OVRATR
     A N42                              4 92'Effective'
     A N42                              5 94'Date'
     A            #2EFDT         6   B  6 93
      **Start of change BUG11727
     A**42******                            DSPATR(PR)                                      BUG11727
     A  42                                  DSPATR(ND PR)
      **End of change BUG11727
     A N42                                  DSPATR(UL)
     A N42                                  DSPATR(HI)
     A N25                                  OVRDTA
     A N25                                  OVRATR
     A            #2LSAC         1   B  6108
     A                                      DSPATR(UL HI)
      **Start of change BUG11727
     A*N72******                            DSPATR(PR)                                      BUG11727
     A*N71******                            DSPATR(ND)                                      BUG11727
     A N72
     AO 70                                  DSPATR(PR)
     A N71
     AO 70                                  DSPATR(ND)
      **End of change BUG11727
     A N25                                  OVRDTA
     A N25                                  OVRATR
      **End of change CSD031
     A*=========================================================================
     A*/COPY WNCPYSRC,SD0280D#95
     A          R #CMDTXT1                  TEXT('Command keys')
     A*/COPY WNCPYSRC,SD0280D#94
     A                                      OVERLAY PUTOVR
      **Start of change CSD031
     A**********  ##CTX1        78     23  2TEXT('Command Text 1')                            CSD031
     A            ##CTX1        78     26  2TEXT('Command Text 1')
      **End of change CSD031
     A N25                                  OVRDTA
     A*=========================================================================
     A*/COPY WNCPYSRC,SD0280D#93
     A          R #MSGRCD                   TEXT('Program messages')
     A*/COPY WNCPYSRC,SD0280D#92
      **Start of change CSD031
     A**********                            SFL SFLMSGRCD(24)                                 CSD031
     A                                      SFL SFLMSGRCD(27)
      **End of change CSD031
     A            MSGKEY                    SFLMSGKEY
     A            ##PGM                     SFLPGMQ
     A*=========================================================================
     A*/COPY WNCPYSRC,SD0280D#91
     A          R #MSGCTL                   TEXT('Program messages')
     A*/COPY WNCPYSRC,SD0280D#90
     A                                      SFLCTL(#MSGRCD)
     A                                      SFLPAG(01) SFLSIZ(03)
     A  86                                  OVERLAY PUTOVR
     A                                      SFLINZ SFLDSP SFLDSPCTL
     A  25
     AON25                                  SFLEND
     A            ##PGM                     SFLPGMQ
     A*=========================================================================
     A*/COPY WNCPYSRC,SD0280D#89
