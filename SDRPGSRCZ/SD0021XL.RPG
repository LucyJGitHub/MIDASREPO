     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas IBLC 2002 Set Up Currency Extension File')       *
      *****************************************************************
      *                                                               *
      *  Midas - IBLC 2002 Module                                     *
      *                                                               *
      *  RPG/SD0021XL  - SET UP IBLC CURRENCY CODES EXTENTION FILE    *
      *                                                               *
      *  Function:  This program set up IBLC Currency Codes Extension *
      *             file with default values.                         *
      *                                                               *
      *  (phase(s)) Installation                                      *
      *                                                               *
      *  Called By: ILC0000 - IBLC MODULE INSTALLATION                *
      *                                                               *
      *  (c) Finastra International Limited 2005                      *
      *                                                               *
      *  Last Amend No. MD046248           Date 27Oct17               *
      *  Prev Amend No. CER059             Date 19Jul10               *
      *                 CER043             Date 19May08               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      *                 CER001             Date 25Apr05               *
      *                 UPG402             Date 04Oct04               *
      *                 ULX043             Date 09Aug01               *
      *                                                               *
      *---------------------------------------------------------------*
      *                                                               *
      *  MD046248 - Finastra Rebranding                               *
      *  CER059 - German Feature Upgrade to Delhi                     *
      *  CER043 - German Features LF041-00 New Fields and Defaulting  *
      *           (Recompile)                                         *
      *  CER001 - LUX Upgrade to MidasPlus                            *
      *  UPG402 - Recompile due to R4.02 upgrade                      *
      *  ULX043 - IBLC 2002 Reporting                                 *
      *                                                               *
      *****************************************************************
      *
     FSDCURRPDIF  E                    DISK
      ***  Currency codes              Master file         Prefix A6.
      *
     F***SDCURRXLUF  E           K        DISK                      A                         CER001
     FSDCYX1PDUF  E           K        DISK                      A                            CER001
      ***  Extended Currency codes     Update index        Prefix CY.
      *
      /EJECT
      *-------------------------------------------------------------------------
     E                    CPY@    1   1 80               COPYRIGHT  ARRAY
      /EJECT
      *-------------------------------------------------------------------------
      * Main processing
      *-------------------------------------------------------------------------
      *
      ***  Set up copyright parameter
      *
     C                     MOVEACPY@      CPY2@  80
      *
      ***  First read
      *
     C                     READ SDCURRD0                 LR
      *
      ***  Process until LR indicator not on
      *
     C           *INLR     DOWEQ*OFF                       - B1
      *
      ***  Check if record exists in the extension file
      *
     C           A6CYCD    CHAINSDCURRDL             89
      *
      ***  If record not in the extension file : FIELDS SET UP & WRITE
      *
     C           *IN89     IFEQ '1'                        - B2
     C                     MOVE A6CYCD    CYCURR
     C                     MOVEL'Y'       CYREPT
     C                     WRITESDCURRDL
     C                     END                             - E2
      *
      ***  Main file read
      *
     C                     READ SDCURRD0                 LR
      *
     C                     END                             - E1
      *-------------------------------------------------------------------------
      * End of processing
      *-------------------------------------------------------------------------
     C                     RETRN
      /EJECT
** CPY@  COPYRIGHT
(c) Finastra International Limited 2005
