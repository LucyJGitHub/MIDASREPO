     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas SD Update SDCUSTPD (feature S01424)')
     F*****************************************************************
     F*                                                               *
     F*  Midas - (Standing Data)
     F*                                                               *
     F*  Program name: SD0542                                         *
     F*                                                               *
     F*  Function:  This program initialises the 'Elegible for        *
     F*  Deletion in COB' flag on SDCUSTPD (when called in            *
     F*  insert mode).                                                *
     F*                                                               *
     F*  Called by: SDC0542 - Delete Customers in COB Installation    *
     F*                       control.                                *
     F*                                                               *
      *  (c) Finastra International Limited 2001                      *
     F*                                                               *
      *  Last Amend No. MD046248           Date 27Oct17               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      *  Prev Amend No. CSD031             Date 10Apr06               *
      *                 CSW037A            Date 02May05               *
      *                 BUG6198            Date 04Apr05               *
      *                 CSD025             Date 11Jan05               *
      *                 CSW037             Date 15Dec04               *
      *                 CSW036             Date 15Dec04               *
      *                 CLE025             Date 20Oct03               *
      * Midas Release 4.01 -------------------------------------------*
      *                 CSW024             Date 31Aug01               *
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.04 -----------------------------------------------*
      *                 CSD007             Date 28Aug00               *
      *                 CDL008             Date 02May00               *
      * Midas DBA 3.00 ---------------- Base -------------------------*
     F*                 069250             DATE 11APR94               *
     F*                 S01421             DATE 17AUG93               *
     F*                                                               *
     F*---------------------------------------------------------------*
     F*                                                               *
      *  MD046248 - Finastra Rebranding                               *
      *  CSD031 - Enhanced Centralised Static Data (Recompile)        *
      *  CSW037A- Additional Field extended to 40 chars (recompile)   *
      *  BUG6198- Cannot save new Details for CUSD (Recompile)        *
      *  CSD025 - Customer De-Activation                              *
      *  CSW037 - Additional Field Data on MT300/MT320                *
      *  CSW036 - Dual SWIFT BIC held on Client Details               *
      *  CLE025 - Credit Lines (Recompile)                            *
      *  CSW024 - S.W.I.F.T. MT3xx Field 82/83/87. (Recompiled)       *
      *  CSD007 - Customer Closing (Recompiled over SDCUSTL5)         *
      *  CDL008 - Continuous Linked Settlement (recompile SDCUSTPD)   *
     F*  069250 - Remove OVRDBF from creation parameters              *
     F*  S01421 - BLI DEVELOPMENT STEP 1.                             *
     F*           Created for switchable feature S01423 - Customer    *
     F*           Service Fees                                        *
     F*                                                               *
     F*****************************************************************
     F*  C R E A T I O N     P A R A M E T E R S                      *
     F*                                                               *
     F***OVRDBF (File in program) (file on system)                  : *   069250
     F*****************************************************************
     F*
     FSDCUSTL5UF  E           K        DISK
      /EJECT
     E                    CPY@    1   1 80
     E*
     E** Array containing Copyright statement
     E*
      ***************** FIRST COMPILE TIME ARRAY *********************
      /SPACE 3
      *
      ** Data Area giving Installation Control Details
      *
     IPSDS       SDS
      *
      ** Program Status Data Structure - gives Job/Workstation name and
      ** User ID
      *
     I                                      244 253 JOB
     I                                      244 246 WSID
     I                                      254 263 USER
      *
      *****************************************************************
      *
      *** MAIN
      *****************************************************************
      *
     C           *ENTRY    PLIST
     C           PMODE     PARM           PMODE   1
      *
      *** Set up copyright parameter
      *
     C                     MOVEACPY@      BIS@   80
      *
      *** If the Processing Mode is '1' for feature being set on
      *
     C           PMODE     IFEQ '1'
     C                     EXSR PROC1
     C                     END
     C                     SETON                         LR
     C                     RETRN
      *
      *****************************************************************
      *
      *** This program can be called with a parameter of '2' when the
      *** switchable feature is being reset on or '3' if being set off
      *** No processing will take place in those cases                 .
      *
      *****************************************************************
      *
     C           PROC1     BEGSR
     C                     READ SDCUSTL5                 04
     C           *IN04     DOWEQ'0'
      *
      *** Set the customer elegible for deletion in CoB to 'Y'
      *
     C                     MOVE 'Y'       BBCDEL
     C                     UPDAT@CUSTFT
     C                     READ SDCUSTL5                 04
     C                     END
      *****************************************************************
      *
     CSR         P1EXIT    ENDSR
      *
      *****************************************************************
      *                                                               *
      * *PSSR  - Program exception error routine                      *
      *          Called automatically if a program error occurs,      *
      *          or directly by the program code using EXSR.          *
      *          This subroutine DUMPs the program just once.         *
      *                                                               *
      * Called by: (**calling routines**)                             *
      *                                                               *
      * Calls: None                                                   *
      *                                                               *
      *                                                               *
      *****************************************************************
      *
     C           *PSSR     BEGSR                           ** *PSSR SR **
      *
     C           @RUN      IFEQ *BLANK
     C                     MOVE 'Y'       @RUN    1
     C                     DUMP
     C                     END
      *
     C                     SETON                     U7U8LR
     C                     RETRN
      ********************************************************************
      *
     C                     ENDSR
      *
      ********************************************************************
**  CPY@
(c) Finastra International Limited 2001
