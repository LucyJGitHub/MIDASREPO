     H        1                                                           S01390
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas UDC - confirmation formats audit rpt')
     H***********                                                   S37004S01390
     F********************************************************************
     F*  Midas  Standing Data Module
     F*                                                                  *
     F*       SD6813 - CONFIRMATION'S LAYOUT AUDIT REPORT.               *
     F*                                                                  *
      *  (c) Misys International Banking Systems Ltd. 2001            *
     F*                                                                  *
     F*  FUNCTION :  Program is part of user-defined confirmations Sar.  *
     F*              It's run after every insert/update of conf. format. *
     F*                                                                  *
     F*                                                                  *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      *  Last Amend No. CSD027             Date 09Dec05               *
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
      *  Prev Amend No. S01405             Date 30NOV92
     F*                 S01390             Date 22JUN92               *AUS009
     F*                      AUS009      DATE 20DEC90                    *AUS009
     F*                                                                  *
     F*------------------------------------------------------------------*
     F*                                                                  *
      *  CSD027 - Conversion Of Customer Number to Alpha              *
     F*     S01405  -  User defined confirmations file names changed.    *
     F*     S01390  -  Release 10 Changes for Australianisation          *
     F*     AUS009  -  AUSTRALIAN PRODUCT - USER DEFINED CONFIRMATIONS   *AUS009
     F*                                                                  *
     F*------------------------------------------------------------------*
     F*  C R E A T I O N     P A R A M E T E R S                         *
     F*                                                                  *
     F*                                                                  *
     F********************************************************************
     F* ID F  C  H  L    FUNCTION OF INDICATORS                          *
     F********************************************************************
     F*                                                                  *
     F*       01      NOT 'ON' - FIRST CYCLE PROCESSING
     F*       99      WRITE FAIL
     F*
     F***********CONFSRC IP  F     144            DISK                    S01405
     FSDUDCSPDIP  F     144            DISK                               S01405
     F***SD6813P1O***E                    PRINTER                         S01390
     FSD6813P1O   E                    PRINTER      KINFDS SPOOL      UC  S01390
     F/SPACE 3
     E                    CPY@    1   1 80                                S01390
     I*    CONFSRC - SOURCE FILE FOR CONFIRMATION FORMATS.
     I*
     I***********CONFSRC NS                                               S01405
     ISDUDCSPDNS                                                          S01405
     I                                       13 144 SRCDTA
     I*                                                                   S01390
     ISPOOL       DS                                                      S01390
     I**    SPOOL FILE INFORMATION DATA STRUCTURE                         S01390
     I                                       83  92 SFILE                 S01390
     I                                    B 123 1240SFNUM                 S01390
     I*                                                                   S01390
     ISDBANK    E DSSDBANKPD                                              S01390
     I* Bank Details Accesses Via Access Program                          S01390
     I*                                                                   S01390
     IDSFDY     E DSDSFDY                                                 S01390
     I* First DS For Access Programs, Short Data Structure                S01390
     I*                                                                   S01390
     I/SPACE 3
     C*       ***   M A I N L I N E    P R O C E S S I N G   ***
     C*
     C*    FIRST INITIALIZATION.
     C           *IN01     IFEQ '0'
     C                     EXSR INIT
     C                     END
     C*
     C*    OUTPUT REPORT HEADINGS.
     C                     MOVELSRCDTA    FMTLIN
     C                     WRITELINER                  99
     C***LR*********          WRITEEND                    99              S01390
     CLR 01                WRITEEND                    99                 S01390
     C/SPACE 3
     C********************************************************************
     C*     SUBROUTINE FOR FIRST CYCLE INITIALIZATION.                   *
     C*------------------------------------------------------------------*
     C           INIT      BEGSR
     C*
     C                     MOVE '1'       *IN01
     C                     MOVEACPY@      BIS@   80                       S01390
     C*
     C*    GET USER'S TITLE, RUN DATE, FORMAT NAME & PAGE NUMBER.
     C           *ENTRY    PLIST
     C***********          PARM           TITLEP                          S01390
     C***********          PARM           DATEP                           S01390
     C                     PARM           SEQ     5                       S01390
     C                     PARM           FORMP
     C*                                                                   S01390
     C** READ BANK DETAILS VIA ACCESS PROGRAM                             S01390
     C*                                                                   S01390
     C                     CALL 'AOBANKR0'                                S01390
     C                     PARM '*DBERR ' RTCD    7                       S01390
     C                     PARM '*FIRST ' OPTN    7                       S01390
     C           SDBANK    PARM SDBANK    DSFDY                           S01390
     C*                                                                   S01390
     C                     OPEN SD6813P1                                  S01390
     C*                                                                   S01390
     C** Report printer file to RCF via ZSFILE                            S01390
     C*                                                                   S01390
     C                     Z-ADDSFNUM     ZSNUM   60                      S01390
     C                     CALL 'ZSFILE'                                  S01390
     C                     PARM           SEQ                             S01390
     C                     PARM *BLANKS   ENT     3                       S01390
     C                     PARM           SFILE                           S01390
     C                     PARM           ZSNUM                           S01390
     C                     PARM *BLANKS   ZSERR   1                       S01390
     C*                                                                   S01390
     C** Error during ZSFILE processing, return to calling program        S01390
     C*                                                                   S01390
     C           ZSERR     IFEQ 'Y'                                       S01390
     C                     SETON                     U7U8LR               S01390
     C                     END                                            S01390
     C*
     C*    OUTPUT REPORT HEADINGS.
     C                     WRITEHEADER                 99
     C*
     C                     ENDSR
     C********************************************************************
** CPY@   **      OBJECT COPYRIGHT                                        S01390
(c) Misys International Banking Systems Ltd. 2001
