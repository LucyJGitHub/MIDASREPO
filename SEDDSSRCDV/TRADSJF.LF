      *****************************************************************
/*STD *  LFBASE                                                       *
/*EXS *  LF_RB                                                        *
/*EXI *  TEXT('Midas SE Trades Join File')                            *
     A********************************************************************
     A*
     A*  Midas - Securities Trading Module
     A*                                                                  *
     A*    JLF/TRADSJF  -  TRADES JOIN FILE                              *
     A*                                                                  *
      *  (c) Finastra International Limited 2001                      *
     A*                                                                  *
      *  Last Amend No. MD046248           Date 27Oct17               *
      *  Prev Amend No. CER059             Date 19Jul10               *
      *                 BUG23967           Date 13May09               *
      *                 CER020             Date 19May08               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      *                 CSD027             Date 05Dec05               *
      *                 CGL035             Date 01Mar05               *
      *                 CGL029             Date 01Sep03               *
      *                 CAS006             Date 21Jan03               *
      * Midas Release 4 --------------- Base -------------------------*
      *                 CSE022             Date 29Mar01               *
      * Midas DBA 3.04 -----------------------------------------------*
      *                 CSE023             Date 12Jul00               *
      * Midas DBA 3.02 -----------------------------------------------*
      *                 CAP051             Date 16Nov99               *
      *                 CPB001             Date 01Jun99               *
      * Midas DBA 3.00 ---------------- Base -------------------------*
      *                 CAP003             Date 31Jul98               *
     A*                 CSE007             Date 02Feb98                  *
     A*                   CEU005             DATE 02FEB98                *
     A*                   CAC002             Date 15Sep96                *
     A*                   S01496             Date 06JUN94                *
     A*                 S01486             Date 06JUN94               *
     A*                   052254             DATE 05JAN94                *
     A*                   S01413             DATE 09JUL93                *
     A*                   S01117             DATE 08NOV90                *
     A*                   S01269             DATE 21JUN90                *
     A*                   S01271             DATE 13JUN90                *
     A*                   E18404             DATE 16AUG90                *
     A*                   E21096             DATE 26JUL90                *
     A*                   E20125             DATE 10NOV89                *
     A*                                                                  *
     A*----------------------------------------------------------------  *
     A*                                                                  *
      *  MD046248 - Finastra Rebranding                               *
      *  CER059 - German Feature Upgrade to Delhi                     *
      *  BUG23967 - Add Local Industry Code Field. (Recompile)        *
      *  CER020 - Enhanced Rollover Window: Upgrade FGE089            *
      *           to Midas Plus (Recompile)                           *
      *  CSD027 - Conversion Of Customer Number to Alpha              *
      *  CGL035 - EUSD Upgrade to Midasplus (Recompile)               *
      *  CGL029 - Increase Account Code to 10 digits (Recompile)      *
      *  CAS006 - Hedge Accounting Phase B (Recompile)                *
      *  CSE022 - Depository Definition Enhancement (Recompile)       *
      *  CSE023 - Treaty Withholding Tax (Recompiled)                 *
     A*  CAP051 - Automatic Authorisation (SE Trades Part)               *
     A*           Recompile over changes in TRADSD.                      *
     A*  CPB001 - Meridian DBA Middleware Replication Customization.     *
     A*           Recompile over changes in TRADSD.                      *
      *  CAP003 - Recompiled for conversion of Midas inputs to APIs   *
     A*  CSE007 - Corporate Actions - Just Recompile                     *
     A*  CEU005 - EMU SE Settlement Ccy Conversion (RECOMPILE)           *
     A*  CAC002 - Profit Centre Accounting Development Phase 2:       *
     A*           Recompiled due to changes in TRADSD                 *
     A*  S01496 - Jyske enhancements (Recompile)                         *
     A*  S01486 - Portfolio Management Upgrade(RECOMPILE)                *
     A*  052254 - RECOMPILED as CURRENT FACTOR amended from 9,8          *
     A*           to 10,9                                                *
     A*  S01413 - RETAIL 3 INCORPORATION. CUSTOMER GROUP ADDED TO        *
     A*           CLINTCB. RECOMPILE.                                    *
     A*  S01117 - MULTI BRANCHING                                        *
     A*  S01269 - TRADE AUTHORISATION - OMIT UNAUTHORISED TRADES         *
     A*  S01271 - RECOMPILED FOR PAY/RECEIVE IN INPUT CYCLE              *
     A*  E18404 - RECOMPILED FOR CHANGE TO CLINTCB                       *
     A*  E21096 - RECOMPILED TO INCLUDE ADDITIONAL FIELD ADDED TO        *E21096
     A*           END OF TRADES FILE.  THIS IS THE SWIFT SEQUENCE        *E21096
     A*           NUMBER WHICH IS USED IN SE1810.                        *E21096
     A*  E20125 - File was taking RECI from TABLETR. It should be        *E20125
     A*           using RECI from TRADSD. This can then be used to       *E20125
     A*           omit cancelled Trades. (CARGILL-NY)                    *E20125
     A*                                                                  *
     A********************************************************************
     A*
     A*         /////////////////////////////////////////
     A*        // WARNING: When creating this logical //
     A*       //   file, take option                 //
     A*      //                MAINTENANCE (*REBLD) //
     A*     /////////////////////////////////////////
     A*
     A*****************************************************************
     A*
     A*  C R E A T I O N     P A R A M E T E R S                      *
     A*                                                               *
     A********************************************************************
     A          R TRADSJFF                  JFILE(TABLETR TRADSD CLINTCB +
     A                                            CLINTSE)
     A                                      TEXT('(c) Finastra International +
     A                                      Limited +
     A                                      2001')
     A*  Join Branch Codes to Trades
     A          J                           JOIN(1 2)
     A*                                              Begin /S01117/
     A*********                             JFLD(BRCD TDBR)
     A                                      JFLD(BRCA TDBA)
     A*                                              End   /S01117/
     A                                      JDUPSEQ(TDBK)
     A                                      JDUPSEQ(TCNR)
     A*  Join Trades to Customer Details
     A          J                           JOIN(2 3)
     A                                      JFLD(TCNR CNUM)
     A*  Join Trades to Customer Securities Trading Details
     A          J                           JOIN(2 4)
     A                                      JFLD(TCNR CNUM)
     A*  Branch Codes Fields
      *                                              Begin /E20125/
     A*********** RECI                      JREF(1)
     A            RECI                      JREF(2)
      *                                              End   /E20125/
     A*                                              Begin /S01117/
     A************CMPY
     A************BRCD                      JREF(1)
     A            CMPYM
     A            BRCA                      JREF(1)
     A*                                              End   /S01117/
     A*  Trades Fields
     A            TCNR
     A            TDBK
     A            SETC
     A            TOSV
     A            TDVD
     A            TDTP
     A            TINC
     A            TDRF
     A            TDFS
     A            PCOD
     A*  Customer Fields
     A            CASK
     A            CRNM
     A            CTWN
     A            CPAR
     A*  Customer Securities Trading Fields
     A            C1DI
     A*  Keys
     A*                                              Begin /S01117/
     A************CMPY
     A************BRCD                      JREF(1)
     A          K CMPYM
     A          K BRCA
     A*                                              End   /S01117/
      *                                              Begin /E20125/
     A          O RECI                      COMP(EQ '*')
     A          O RECI                      COMP(EQ 'C')
      *                                              End   /E20125/
      *                                              Begin /S01269/
     A          O RECI                      COMP(EQ 'L')
     A          O RECI                      COMP(EQ 'P')
      *                                              End   /S01269/
