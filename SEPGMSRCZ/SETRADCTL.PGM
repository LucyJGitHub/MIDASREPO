000100200603      *****************************************************************
000200200603/*STD *: PGMBASE                                                    : *
000300200603/*EXI *: MODULE(SETRADCTL) ACTGRP(*CALLER)                          : *                       CPK016
000400200603/*EXI *  TEXT('Midas SE Trade interface controller')                  *
000500200603/*E*I *:*MODULE(SETRADCTL)******************************************:**                       CPK016
000600200603/*E*I *:*BNDSRVPGM(*NONE)*BNDDIR(MIDAS)*ACTGRP(*CALLER)*************:**                       CPK016
000700200603      *****************************************************************
000800200603      *                                                               *
000900200603      *  Midas - Security Trading Module                              *
001000200603      *                                                               *
001100200603      *  SETRADCTL - SE Trades Interface Controller                   *
001200200603      *                                                               *
001300200603      *  Function: This Program Validates SE Trades for Input into    *
001400200603      *            the Midas database.                                *
001500200603      *                                                               *
001600200603      *  (c) Finastra International Limited 2001                      *
001700200603      *                                                               *
001800200604      *  Last Amend No. 258901             Date 22May20               *
001900200603      *  Prev Amend No. CSD102             Date 08Jan19               *
002000200603      *                 MD046248           Date 27Oct17               *
002100200603      *                 CLE134             Date 01Aug12               *
002200200603      *                 CSF011A            Date 28Nov11               *
002300200603      *                 AR698195B          Date 20Jan11               *
002400200603      *                 CSW210             Date 04May10               *
002500200603      *                 CER059             Date 19Jul10               *
002600200603      *                 CER054             Date 07Apr09               *
002700200603      *                 BUG22911           Date 17Feb09               *
002800200603      *                 CER048             Date 19May08               *
002900200603      * Bank Fusion Midas 1.4 Base -----------------------------------*
003000200603      * Midas Plus 1.4 Base 04 ---------------------------------------*
003100200603      *                 256564             Date 17Sep08               *
003200200603      *                 247873             Date 15Jun07               *
003300200603      * Midas Plus 1.4 Base ------------------------------------------*
003400200603      *                 243776A            Date 11Dec06               *
003500200603      *                 243776             Date 21Jul06               *
003600200603      *                 234858             Date 18Jul05               *
003700200603      *                 233881             Date 02Jun05               *
003800200603      *                 244115             Date 06Oct06               *
003900200603      *                 243119A            Date 15Nov06               *
004000200603      *                 243604             Date 17Nov06               *
004100200603      * Midas Plus 1.3 ----------- Base ------------------------------*
004200200603      *                 CSW206E            Date 24Aug06               *
004300200603      *                 CSD031             Date 10Apr06               *
004400200603      *                 CSD027             Date 09Dec05               *
004500200603      *                 CAP087             Date 17Aug05               *
004600200603      *                 BUG9107            Date 19Jul05               *
004700200603      *                 CER001             Date 25Apr05               *
004800200603      *                 CSE075             Date 17Nov05               *
004900200603      *                 236137             Date 20Sep05               *
005000200603      *                 CGL031             Date 05Jul04               *
005100200603      *                 CSE065             Date 08Nov04               *
005200200603      *                 CSE071             Date 19Jul05               *
005300200603      *                 BUG2274            Date 19Aug04               *
005400200603      *                 BUG3122            Date 17Jul04               *
005500200603      *                 BUG3145            Date 15Jun04               *
005600200603      *                 CSC022             Date 24Feb03               *
005700200603      *                 CGL029             Date 01Sep03               *
005800200603      *                 CSE045             Date 24Mar03               *
005900200603      *                 222727             Date 05Nov03               *
006000200603      *                 CPK016             Date 29Jul03               *
006100200603      *                 CAS006             Date 21Jan03               *
006200200603      *                 CSE039             Date 21Jan03               *
006300200603      * Midas Release 4.01.03 ----------------------------------------*
006400200603      *                 210517             Date 21Nov02               *
006500200603      * Midas Release 4.01.02 ----------------------------------------*
006600200603      *                 200299             Date 05Jul02               *
006700200603      *                 200459             Date 22Apr02               *
006800200603      * Midas Release 4.01 -------------------------------------------*
006900200603      *                 CSE034             Date 23Apr02               *
007000200603      *                 CSC011             Date 18Sep01               *
007100200603      *                 CSE031             Date 13Dec01               *
007200200603      *                 201429             Date 15Jan02               *
007300200603      *                 201233             Date 20Dec01               *
007400200603      *                 CAP067             Date 24Sep01               *
007500200603      *                 199797             Date 01Nov01               *
007600200603      * Midas Release 4 --------------- Base -------------------------*
007700200603      *                 CSE028             Date 06Jun01               *
007800200603      *                 CSW201             Date 02May01               *
007900200603      *                 CSE016             Date 10Jan01               *
008000200603      * Midas DBA 3.05 -----------------------------------------------*
008100200603      *                 193462             Date 25May01               *
008200200603      *                 CPB002             Date 28Mar01               *
008300200603      *                 184735             Date 23Jan01               *
008400200603      * Midas DBA 3.04 -----------------------------------------------*
008500200603      *                 CSE023             Date 12Jul00               *
008600200603      *                 175216             Date 12Sep00               *
008700200603      * Midas DBA 3.03 -----------------------------------------------*
008800200603      *                 CAP137             Date 07Feb00               *
008900200603      * Midas DBA 3.02 -----------------------------------------------*
009000200603      *                 CAP051             Date 16Nov99               *
009100200603      *                 CPB001             Date 21Sep99               *
009200200603      *                 CAP013             Date 07Sep99               *
009300200603      *                 CAP011             Date 07Sep99               *
009400200603      * Midas DBA 3.00 ---------------- Base -------------------------*
009500200603      *                 149242             Date  8Dec98               *
009600200603      *                 149184             Date  7Dec98               *
009700200603      *                 149162             Date  7Dec98               *
009800200603      *                 CAP006  *CREATE    Date  1Dec98               *
009900200603      *                                                               *
010000200603      *---------------------------------------------------------------*
010100200603      *                                                               *
010200200603      *  258901 - Error in tax amount for charges and commissions.    *
010300200603      *  CSD102 - Password Length Extension (Recompile)               *
010400200603      *  MD046248 - Finastra Rebranding                               *
010500200603      *  CLE134 - Past Due Call Loan Processing (Recompile)           *
010600200603      *  CSF011A - CCR015: Display Order in Confirmation Pages        *
010700200603      *            (Recompile)                                        *
010800200603      *  AR698195B - Recompiled due to changes in module SETRADCTL.   *
010900200603      *             (Child: AR698196)                                 *
011000200603      *  CSW210 - SWIFT 2010 Changes (Recompile)                      *
011100200603      *  CER059 - German Feature Upgrade to Delhi                     *
011200200603      *  CER054 - German Features - Church Tax (Recompile)            *
011300200603      *  BUG22911 - Changes for Correct Tax Calculation (Recompile)   *
011400200603      *  CER048 - German Features - Taxes (Recompile)                 *
011500200603      *  256564 - Recompile due to PF changes done by fix 256330      *
011600200603      *  247873 - Recompile over changes in module SETRADCTL.         *
011700200603      *  243776A- Use value date from TRADSD as parameter.            *
011800200603      *  243776 - Apply same correction as 235547 to make parameter   *
011900200603      *           list match with SETRADSVAL parameter entry list.    *
012000200603      *           Apply 233881 and 234858 corrections.                *
012100200603      *  234858 - EU Tax amount should be put into valid trade field  *
012200200603      *  233881 - EU Tax amount should be subtracted from the         *
012300200603      *           Countervalue.                                       *
012400200603      *  244115 - To properly set clearance type within invalid file. *
012500200603      *  243119A - Recompiled due to changes in SETRADCTL *MODULE.    *
012600200603      *  243604  - Access correct branch in AOBRCHR1. Recompile.      *
012700200603      *  CSW206E - Change Control for SWIFT 2006 Standard Changes     *
012800200603      *  CAP087  - Enable the processing of buy/Sell back trades by   *
012900200603      *            SETRADVU                                           *
013000200603      *  CSD031 - Enhanced Centralised Static Data (Recompile)        *
013100200603      *  CSD027 - Conversion Of Customer Number to Alpha              *
013200200603      *  BUG9107 - Correct error caused by commitment definition      *
013300200603      *  CER001 - LUX Upgrade to MidasPlus (Recompile only)           *
013400200603      *  CSE075 - US Enhanced Treasury Upgrade to MidasPlus           *
013500200603      *           (Recompile)                                         *
013600200603      *  236137 - Change Control for CGL031 Parts 4 & 5.              *
013700200603      *           Several changes in the Taxation of Savings Income   *
013800200603      *           functionality. (Recompile)                          *
013900200603      *  CGL031 - Taxation of Savings Income                          *
014000200603      *  CSE065 - Cost Yield Amort. on Mortgage Backed Assets         *
014100200603      *           (Recompile)                                         *
014200200603      *  CSE071 - Multiple Holidays Re Securities (recompile)         *
014300200603      *  BUG2274 - Unable to access SSI information because market    *
014400200603      *            not being passed in.                               *
014500200603      *  BUG3122 - Recompiled due to changes in SETRADCTL module.     *
014600200603      *  BUG3145 - Charges and Commission are being missed out of the *
014700200603      *            calculation of countervalue.                       *
014800200603      *  CSC022 - Commitment Control Changes for MidasPlus            *
014900200603      *           (Recompile)                                         *
015000200603      *  CGL029 - Increase Account Code to 10 digits                  *
015100200603      *  CSE045 - API for Extended Settlement for Trade Input and     *
015200200603      *           Depot Movement (Recompile)                          *
015300200603      *  222727 - Release 5.0 errors  (Recompile)                     *
015400200603      *  CPK016 - Release 5 packaging.  Standardise parameters.       *
015500200603      *  CAS006 - Hedge Accounting Phase B (Recompile)                *
015600200603      *  CSE039 - Auto-settlement of trades.                          *
015700200603      *  210517 - Missing TRADSDX2 record from the API (Recompile)    *
015800200603      *  200299 - Recompile due to change in SETRIFPD                 *
015900200603      *  200459 - Current factor not applied to countervalue.  *PGM   *
016000200603      *           recompiled due to changes in SETRADCTL *MODULE.     *
016100200603      *  CSE034 - Standard Settlement Instruction improvements        *
016200200603      *  CSC011 - 24x7 Midas Availability (Recompile)                 *
016300200603      *  CSE031 - Coupon Fixing for Floating Rate Notes.              *
016400200603      *           (Recompile).                                        *
016500200603      *  201429 - New validation needed for ISO15022 in               *
016600200603      *           extended settlement screen. (Recompiled)            *
016700200603      *  201233 - If message is unroutable, settlement of message     *
016800200603      *           request cannot be a 'Y'. (Recompiled)               *
016900200603      *  CAP067 - Repurchase Agreements API (Recompile)               *
017000200603      *  199797 - Additional changes and fixes for CSE028 (SSIs).     *
017100200603      *  CSE028 - Standing Settlement Instructions Enhancement.       *
017200200603      *  CSW201 - SWIFT 2001 Standards Update (Recompile)             *
017300200603      *  CSE016  - Extended Security Descriptions (Recompiled)        *
017400200603      *  193462 - Protect Book code if Buy/sell indicator = 'Y'      *
017500200603      *  CPB002 - Counterparty for trades coming from Tof can be the  *
017600200603      *           internal customer number (Book transfer)            *
017700200603      *           In this case the PB Order Number is setted in Tof   *
017800200603      *           Add this parameter when calling SETRADPVAL to give  *
017900200603      *           the value to SEVTCUST.                              *
018000200603      *           Just recompile                                      *
018100200603      *  184735 - Check for duplicate ref. Change to ZATRNRTV.        *
018200200603      *  CSE023 - Treaty Withholding Tax. (Recompiled)                *
018300200603      *  175216 - Add additional field for "Standing Instructions     *
018400200603      *           Override" missed at SWIFT 98 change. Compile only.  *
018500200603      *  CAP137 - Conversion of SE Security inputs into modular       *
018600200603      *           structure to use as APIs (SECTYD)                   *
018700200603      *  CAP051 - Automatic Authorisation (SE Trades Part)            *
018800200603      *           Recompiled due to changes in SETRADxxx              *
018900200603      *  CPB001 - Meridian DBA Middleware Replication Customization.  *
019000200603      *           Recompiled due to changes in SETRADxxx              *
019100200603      *  CAP013 - Allow access by Midas transaction ID if not insert  *
019200200603      *  CAP011 - Substitution of Midas database flds for externl i/fs*
019300200603      *  149242 - Incorrect multiply/divide indicator was being used  *
019400200603      *           when EURO currency was involved. Fix is to reverse  *
019500200603      *           the M/D indicator if Nominal currency is equal to   *
019600200603      *           the EURO currency. (Fixed under 140984 in non-API   *
019700200603      *           version)                                            *
019800200603      *  149184 - Apply core fix 130862 to ZLCD                       *
019900200603      *  149162 - Int. calc. incorrect at end of Feb for 30 day method*
020000200603      *           (core fix 102506 changes ZDAYS and ZDYYR)           *
020100200603      *  CAP006 - Created as part of the APISERVER breakdown          *
020200200603      *                                                               *
020300200603      *****************************************************************
