     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas SE Initialisation of S01515 - Update SECOND')
      *****************************************************************
      *                                                               *
      *  Midas - Securities Trading                                   *
      *                                                               *
      *  Program name: SE0007 - Initialisation of S01515              *
      *                                                               *
      *  Function:  This program initialises:                         *
      *                                                               *
      *             PF/SECOND which determines linked enquiries and   *
      *             changes SE0225 to SE0226, and SE0235 to SE0236.   *
      *                                                               *
      *                                                               *
      *  (c) Finastra International Limited 2001                      *
      *                                                               *
      *  Last Amend No. MD046248           Date 27Oct17               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      *  Prev Amend No. 221797  *CREATE    Date 01Oct03               *
      *                                                               *
      *---------------------------------------------------------------*
      *                                                               *
      *  MD046248 - Finastra Rebranding                               *
      *  221797 - Initialise SECOND for S01515.                       *
      *                                                               *
      *****************************************************************
     F*
     FSECOND  UF  E           K        DISK
      /EJECT
     E                    CPY@    1   1 80
     E*
     E** Array containing Copyright statement
      *****************************************************************
      *
     C           *ENTRY    PLIST
     C                     PARM           RETCDE  7
     C                     PARM           PMODE   1
      *
      *** Set up copyright parameter
      *
     C                     MOVEACPY@      BIS@   80
      *
     C           PMODE     IFEQ '1'
     C           PMODE     OREQ '2'
      *
     C                     EXSR PROC1
     C                     ENDIF
      *
     C                     SETON                         LR
     C                     RETRN
      *
      *****************************************************************
      *
      *** This program can be called with a parameter of '2' when the
      *** switchable feature is being reset on or '3' if being set off
      *** OR '1' when the feature is switched on for the first time.
      *
      *****************************************************************
      *
     C           PROC1     BEGSR
     C                     READ SECOND                   04
     C           *IN04     DOWEQ'0'
      *
      *
     C           TPGM      IFEQ 'SE0225'
     C                     MOVEL'SE0226'  TPGM
     C                     UPDATSECONDF
      *
     C                     ELSE
     C           TPGM      IFEQ 'SE0235'
     C                     MOVEL'SE0236'  TPGM
     C                     UPDATSECONDF
     C                     ENDIF
     C                     ENDIF
      *
     C                     READ SECOND                   04
     C                     END
      *
     C                     ENDSR
      *****************************************************************
      *                                                               *
      * *PSSR  - Program exception error routine                      *
      *          Called automatically if a program error occurs,      *
      *          or directly by the program code using EXSR.          *
      *          This subroutine DUMPs the program just once.         *
      *                                                               *
      * Called by: (**calling routines**)                             *
      *                                                               *
      * Calls: None                                                   *
      *                                                               *
      *                                                               *
      *****************************************************************
      *
     C           *PSSR     BEGSR                           ** *PSSR SR **
      *
     C           @RUN      IFEQ *BLANK
     C                     MOVE 'Y'       @RUN    1
     C                     DUMP
     C                     END
      *
     C                     SETON                     U7U8LR
     C                     MOVEL'FAILURE' RETCDE
     C                     RETRN
      ********************************************************************
      *
     C                     ENDSR
      *
      ********************************************************************
**  CPY@
(c) Finastra International Limited 2003
