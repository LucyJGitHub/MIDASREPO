/*********************************************************************/
/*STD    CLPBASEBND                                                  */
/*EXI    TEXT('Midas SM Updating of Driving File')                   */
/*********************************************************************/
/*                                                                   */
/*       Midas - Implementation module                               */
/*                                                                   */
/*       SMUC00107 - Updating of driving file before GBDU            */
/*                                                                   */
/*       (c) Finastra International Limited 2020                     */
/*                                                                   */
/*       Last Amend No. MD057510           Date 16Feb21              */
/*       Prev Amend No. CSD103    *CREATE  Date 10Aug20              */
/*                                                                   */
/*********************************************************************/
/*                                                                   */
/*       MD057510 - Error encountered in pgm UP000017 during ZDBU,   */
/*                  Skip copy back of data from temporary file       */
/*       CSD103 - LIBOR Deregulation - Common Layer/Standing Data    */
/*                                                                   */
/*********************************************************************/
             PGM


             COPYRIGHT  TEXT('(c) Finastra International Limited 2020')


/* Update of Driving File                                            */
UPDATE:
             SCRUNSQL   SQL('UPDATE UPDLVCPD SET AUFMTO = ''S*NOCHK''  +
                          WHERE AUMBNM IN (SELECT PFILE FROM +
                          SMFILUPD) AND AUMBTP = ''PF''')
             MONMSG     MSGID(CPF0000 RPG0000 MCH0000)

             SCRUNSQL   SQL('UPDATE UPDLVCPD SET AUFMTO = ''S*NOCOPY''  +
                          WHERE AUMBNM = ''XLOAMSDK''')                                 /*MD057510*/
             MONMSG     MSGID(CPF0000 RPG0000 MCH0000)                                  /*MD057510*/

             SCRUNSQL   SQL('UPDATE UPDLVCPD SET AUFMTO = ''S*NOCOPY''  +
                          WHERE AUMBNM = ''XFCLTYFN''')                                 /*MD057510*/
             MONMSG     MSGID(CPF0000 RPG0000 MCH0000)                                  /*MD057510*/

             SCRUNSQL   SQL('UPDATE UPDLVCPD SET AUFMTO = ''S*NOCOPY''  +
                          WHERE AUMBNM = ''XFCLTYFM''')                                 /*MD057510*/
             MONMSG     MSGID(CPF0000 RPG0000 MCH0000)                                  /*MD057510*/

             SCRUNSQL   SQL('UPDATE UPDLVCPD SET AUFMTO = ''S*NOCOPY''  +
                          WHERE AUMBNM = ''XLEPARTPD''')                                /*MD057510*/
             MONMSG     MSGID(CPF0000 RPG0000 MCH0000)                                  /*MD057510*/

             GOTO       CMDLBL(ENDPGM)

ERROR:
             CHGJOB   SWS(XXXXXX11)
ENDPGM:
             ENDPGM
