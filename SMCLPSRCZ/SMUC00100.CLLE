/*********************************************************************/
/*STD    CLPBASEBND                                                  */
/*EXI *  TEXT('Midas OF File Migration for DI Layer')                */
/*********************************************************************/
/*                                                                   */
/*       Midas - Implementation module                               */
/*                                                                   */
/*       SMUC00100 - Midas OF File Migration for DI Layer            */
/*                                                                   */
/*       (c) Misys International Banking Systems Ltd. 2015           */
/*                                                                   */
/*       Last Amend No. MD029739  *CREATE  Date 15Aug14              */
/*                                                                   */
/*********************************************************************/
/*                                                                   */
/*       MD029739 - File renaming for integration layer.             */
/*                                                                   */
/*********************************************************************/
             PGM
 
             DCL        VAR(&CPYFLD) TYPE(*CHAR) LEN(64) VALUE('(c) +
                          Misys International Banking Systems Ltd. +
                          2015')
 
/* Global monitor message */
 
             MONMSG     MSGID(CPF0000 MCH0000 RPG0000) EXEC(GOTO +
                          CMDLBL(ABNOR))
 
 
/* Migrate File to DI Layer */
 
             CPYF       FROMFILE(GLACBDTD) TOFILE(DIACBDTD) MBROPT(*ADD)
 
             CPYF       FROMFILE(GLACBHTD) TOFILE(DIACBHTD) MBROPT(*ADD)
 
             CPYF       FROMFILE(GLACMNTD) TOFILE(DIACMNTD) MBROPT(*ADD)
 
             CPYF       FROMFILE(GLARNRTD) TOFILE(DIARNRTD) MBROPT(*ADD)
 
             CPYF       FROMFILE(IGACMETD) TOFILE(DIACMETD) MBROPT(*ADD)
 
             CPYF       FROMFILE(IGACMRTD) TOFILE(DIACMRTD) MBROPT(*ADD)
 
 
             GOTO       CMDLBL(END)
 
/* Abnormal termination */
 
 ABNOR:      CHGJOB     SWS(XXXXXX11)
             DMPCLPGM
             MONMSG     MSGID(CPF0000 MCH0000)
 
/* Clear the DI files for abnormal termination */
 
             CLRPFM     FILE(DIACBDTD)
             CLRPFM     FILE(DIACBHTD)
             CLRPFM     FILE(DIACMNTD)
             CLRPFM     FILE(DIARNRTD)
             CLRPFM     FILE(DIACMETD)
             CLRPFM     FILE(DIACMRTD)
 
             SNDPGMMSG MSGID(CPF9898) MSGF(QCPFMSG) MSGDTA('Program +
                          SMUC00100 ended abnormally - see job log') +
                          TOMSGQ(MOPERQ MRUNQ)
             MONMSG     MSGID(CPF0000 MCH0000)
 
 END:        RCLRSC
             MONMSG     MSGID(CPF0000 MCH0000)
             RCLRSC     LVL(*CALLER)
             MONMSG     MSGID(CPF0000 MCH0000)
             RCLACTGRP  ACTGRP(*ELIGIBLE)
             MONMSG     MSGID(CPF0000 MCH0000)
             ENDPGM
