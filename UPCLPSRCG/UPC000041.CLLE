/*********************************************************************/
/*STD    CLPBASEBND                                                  */
/*EXI    TEXT('Midas UP Copy across Extract Files')                  */
/*********************************************************************/
/*                                                                   */
/*       Midas - Bridge                                              */
/*                                                                   */
/*       UPC000041 - Copy across Extract Files                       */
/*                                                                   */
/*       (c) Finastra International Limited 2015                     */
/*                                                                   */
/*       Last Amend No. CUP042 *CREATE     Date 26May15              */
/*       Prev Amend No. xxxxxxxx           Date ddMmmyy              */
/*                                                                   */
/*********************************************************************/
/*                                                                   */
/*       CUP042 - New option to copy Extract Files.                  */
/*                                                                   */
/*********************************************************************/
             PGM        PARM(&FILE &MBROPT &BRGDTALIB &LIBMOV +
                          &RTNFLAG)
 
             DCL        VAR(&FILE) TYPE(*CHAR) LEN(10)
             DCL        VAR(&MBROPT) TYPE(*CHAR) LEN(8)
             DCL        VAR(&BRGDTALIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&LIBMOV) TYPE(*CHAR) LEN(10)
             DCL        VAR(&RTNFLAG) TYPE(*CHAR) LEN(1)
 
             COPYRIGHT TEXT('(c) Finastra International Limited +
                          2015')
 
/* Global monitor message */
             MONMSG     MSGID(CPF0000 MCH0000 RPG0000) EXEC(GOTO +
                          CMDLBL(ERROR))
 
             CPYF       FROMFILE(&FILE) TOFILE(&LIBMOV/&FILE) +
                          FROMMBR(*ALL) TOMBR(*FROMMBR) +
                          MBROPT(*REPLACE) CRTFILE(*YES) FMTOPT(*MAP +
                          *DROP)
             CPYF       FROMFILE(&BRGDTALIB/&FILE) TOFILE(&FILE) +
                          FROMMBR(*ALL) TOMBR(*FROMMBR) +
                          MBROPT(&MBROPT)
             MONMSG     MSGID(CPF0000) EXEC(DO)
                CHGVAR     VAR(&RTNFLAG) VALUE('E')
             ENDDO
 
             GOTO       CMDLBL(ENDPGM)
 
ERROR:
             CHGVAR     VAR(&RTNFLAG) VALUE('E')
 
ENDPGM:
             ENDPGM
