     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas UT Add header to TABLETX for FRA/IRS rates')
     F****************************************************************
     F*                                                              *
     F*  Midas FRA/IRS Module
     F*                                                              *
     F*     UFD0010 - Utility to add header records to TABLETX for   *
     F*               new FRA and IRS Rates Tables - DLFRARPP and    *
     F*               DLIRSRPP.                                      *
     F*                                                              *
      *  (c) Finastra International Limited 2001                      *
     F*                                                              *
      *  Last Amend No. MD046248 *CREATE   Date 27Oct17               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
      *  Prev Amend No. XXXXXX             Date 00Xxx00               *
      *                                                              *
     F*---------------------------------------------------------------*
     F*                                                               *
      *  MD046248 - Finastra Rebranding                               *
     F*  XXXXXX -                                                     *
     F*                                                               *
     F****************************************************************
     F*                                                              *
     F*       LR         LAST RECORD.                                *
     F*       01         RECORD DOES NOT EXIST                       *
     F*                                                              *
     F****************************************************************
     FFDTTOTLLUF  E           K        DISK         KINFSR *PSSR A
     I*
     I           UDS                            256
     I** DATA STRUCTURE TO HOLD INFORMATION ON DATABASE ERROR.
     I                                      134 141 DBFILE
     I                                      142 170 DBKEY
     I                                      171 180 DBPGM
     I                                      181 183 DBASE
     C/EJECT
     C                     MOVEL'FD0010'  DBPGM
     C                     EXSR #A
     C                     EXSR #B
     C/EJECT
     C****************************************************************
     C*       INDEX TO SUBROUTINES - LISTED ACCORDING TO USAGE       *
     C*                                                              *
     C*     1) #A      INITIALISATION.                               *
     C*     2) #B      MAIN PROCESSING.                              *
     C*     3) *PSSR   PROGRAM ERROR SUBROUTINE.                     *
     C****************************************************************
     C/EJECT
     C****************************************************************
     C*                                                              *
     C*     #A INITIALISES  PROGRAM.                                 *
     C*        CALLED BY  : INITIAL PROCESSING.                      *
     C*        CALLS      : NONE.                                    *
     C*        WORK FIELDS: NONE                                     *
     C*                                                              *
     C****************************************************************
     C           #A        BEGSR
     C*
     C**  INITIALISE COMMON FIELDS.
     C                     MOVE 'H'       RECI
     C                     Z-ADD*ZEROS    NREC
     C                     Z-ADD*ZEROS    NINS
     C                     Z-ADD*ZEROS    NDEL
     C                     Z-ADD*ZEROS    NAMD
     C                     Z-ADD*ZEROS    LRNO
     C                     Z-ADD*ZEROS    LCD
     C                     Z-ADD*ZEROS    TNLU
      *
     C           #A9       ENDSR
     C/EJECT
     C****************************************************************
     C*                                                              *
     C*     #B CARRIES OUT THE MAIN PROCESSING.                      *
     C*        CALLED BY  : INITIAL PROCESSING.                      *
     C*        CALLS      : NONE                                     *
     C*        WORK FIELDS: NONE                                     *
     C*                                                              *
     C****************************************************************
     C           #B        BEGSR
     C                     MOVE '1'       *INLR
     C*
     C**  LOAD RECORD TYPES & OUTPUT RECORDS TO FDTTOTLL.
      ** MUST ENSURE RECORD DOES NOT ALREADY EXIST
     C*
     C                     MOVEL'FR'      KEY
     C           KEY       SETLLFDTTOTLL                 01
     C           *IN01     IFNE '1'                        B1
     C                     WRITETABLETXF                   *1
     C                     END                             E1
     C*
     C                     MOVEL'IR'      KEY
     C           KEY       SETLLFDTTOTLL                 01
     C           *IN01     IFNE '1'                        B1
     C                     WRITETABLETXF                   *1
     C                     END                             E1
     C*
     C           #B9       ENDSR
     C/EJECT
     C****************************************************************
     C*                                                              *
     C*     *PSSR : SUBROUTINE TO DEAL WITH PROGRAM ERROR            *
     C*        CALLED BY  : PROGRAM ERROR                            *
     C*        CALLS      : NONE                                     *
     C*        WORK FIELDS: NONE                                     *
     C*                                                              *
     C****************************************************************
     C           *PSSR     BEGSR
     C           @LOOP     IFEQ *BLANKS                    B1
     C                     MOVE 'N'       @LOOP   1        *1
     C                     DUMP                            *1
     C                     END                             E1
     C                     ENDSR
