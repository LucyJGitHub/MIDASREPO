     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas TOF Deal Type/Subtype - Setup')                  *
      *****************************************************************
      *                                                               *
      *  Midas - Standing Data Module                                 *
      *                                                               *
      *  UTSD0033 -TOF Deal Types/Subtypes Details -                  *
      *            Setup PF/FDDTSTXT                                  *
      *                                                               *
      *  Function:  This program sets up Deal type/subtypes extension *
      *             file with default values.                         *
      *             Only for following deal type : FP,FS,CX,PI,SI,OP, *
      *                                            OT,SW              *
      *  (phase(s)) Installation                                      *
      *                                                               *
      *  Called By: None                                              *
      *                                                               *
      *  (c) Finastra International Limited 2003                      *
      *                                                               *
      *  Last Amend No. MD046248           Date 27Oct17               *
      *  Prev Amend No. 207288 *CREATE     Date 29May03               *
      *                                                               *
      *---------------------------------------------------------------*
      *                                                               *
      *  MD046248 - Finastra Rebranding                               *
      *  207288 - Utility to initialise PF/FDDTSTXT.                  *
      *           Applied for AR999664 (Child: AR999668)              *
      *                                                               *
      *****************************************************************
      *
      /TITLE FUNCTION OF INDICATORS
      *****************************************************************
      *                                                               *
      *  F U N C T I O N   O F   I N D I C A T O R S                  *
      *                                                               *
      *   65  - Lokup on array of deal type                           *
      *   89  - Chain File on PF/FDDTSTPD                             *
      *                                                               *
      *****************************************************************
      /TITLE SUBROUTINE INDEX
      *****************************************************************
      *                                                               *
      *  S U B R O U T I N E   I N D E X                              *
      *  ===============================                              *
      *                                                               *
      * MAIN PROCESSING                                               *
      *                                                               *
      *****************************************************************
      /TITLE FILES DESCRIPTION
      *****************************************************************
      *
     FFDDTSTPDIF  E                    DISK
     F            FDDTSTPD                          KRENAMEXXX
      *
     FFDDTSTXTUF  E           K        DISK                      A
     F            FDDTSTD0                          KRENAMEUPDIDX
      *
      *****************************************************************
      /TITLE E LINES SPECIFICATIONS
      *****************************************************************
     E                    DTYP    8   8  2
     E                    CPY@    1   1 80
      /EJECT
      *****************************************************************
      *   START PROGRAM : MAINLINE
      *****************************************************************
      *
      ** Reference Copyright Array
      *
     C                     MOVEACPY@      CPY2@  80
      *
     C           K0001     KLIST
     C                     KFLD           DTPE11
     C                     KFLD           DLST11
      *
      ** First read
      *
     C                     READ FDDTSTPD                 LR
      *
      ** Process until LR indicator not on
      *
     C           *INLR     DOWEQ'0'
      *
      ** Check if record exists in the extension file
      ** Test if Deal Type eq FP,FS,CX,PI,SI,OP,OT,SW
      *
     C           DTPE11    LOKUPDTYP                     65
     C           *IN65     CABEQ'0'       SUIT
     C           K0001     CHAINFDDTSTXT             89
      *
     C           *IN89     IFEQ '1'
     C                     CLEARUPDIDX
     C                     MOVELDTPE11    TFDTPE
     C                     MOVELDLST11    TFDLST
     C                     MOVE 'Y'       TFSPOT
     C                     WRITEUPDIDX
     C                     ENDIF
      *
     C           SUIT      TAG
     C                     READ FDDTSTPD                 LR
      *
     C                     ENDDO
     C                     RETRN
      *****************************************************************
      /EJECT
**  DTYP
FPFSCXPISIOPOTSW
**  CPY@
(c) Finastra International Limited 2012
