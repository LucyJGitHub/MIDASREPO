/*********************************************************************/
/*STD    CLPBASEBND                                                  */
/*EXI    TEXT('Midas XX Local Front Office Id Update')               */
/*********************************************************************/
/*                                                                   */
/*       Midas - Dealing Module                                      */
/*                                                                   */
/*       XXC023002 - Midas XX Local Front Office Id Update           */
/*                                                                   */
/*       (c) Finastra International Limited 2020                     */
/*                                                                   */
/*       Last Amend No. LCI023  *CREATE    Date 27Jul20              */
/*                                                                   */
/*-------------------------------------------------------------------*/
/*                                                                   */
/*       LCI023 - Local Front Office Id (Upgrade to FBM 2.1)         */
/*                                                                   */
/*********************************************************************/
             PGM

             DCL        VAR(&PMODE) TYPE(*CHAR) LEN(1)
             DCL        VAR(&RTCDE) TYPE(*CHAR) LEN(7)

             COPYRIGHT TEXT('(c) Finastra International Limited 2018')

/* Global monitor message */

             MONMSG     MSGID(CPF0000 MCH0000 RPG0000) EXEC(GOTO +
                          CMDLBL(ABNOR))

             CHGJOB     SWS(XXXXXX00)

/** Local Front Office Id Update     */

             CALL       PGM(XX023002)

/** Database error processing */

             IF         COND(%SWITCH(XXXXXX11)) THEN(GOTO +
                          CMDLBL(ABNOR))

             GOTO       CMDLBL(END)
 ABNOR:

             CHGVAR     VAR(&RTCDE) VALUE('*ERROR')
             SNDPGMMSG  MSG('Program XXC023002 ended abnormally') +
                          TOPGMQ(*EXT)
             MONMSG     MSGID(CPF0000 MCH0000)

 END:
             ENDPGM
