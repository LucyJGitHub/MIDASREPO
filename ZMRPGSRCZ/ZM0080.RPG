     H        1
      *****************************************************************
/*STD *  RPGBASE                                                      *
/*EXI *  TEXT('Midas Converts RUNDAT to YYMMDD format')
      *****************************************************************
      *                                                               *
      *  Midas                                              *
      *                                                               *
      *    ZM0080 - Converts RUNDAT to YYMMDD format                  *
      *                                                               *
      *  (c) Misys International Banking Systems Ltd. 2001            *
      *                                                               *
      *****************************************************************
      *                                                               *
      * Bank Fusion Midas 1.4 Base -----------------------------------*
      * Midas Plus 1.4 Base 04 ---------------------------------------*
      * Midas Plus 1.4 Base ------------------------------------------*
      * Midas Plus 1.3 ----------- Base ------------------------------*
      * Midas Release 4 --------------- Base -------------------------*
      * Midas DBA 3.00 ---------------- Base -------------------------*
      *    LAST AMEND NO.  00000            DATE 00XXX00              *
      *    PREV AMEND NO.  00000            DATE 00XXX00              *
      *                                                               *
      *****************************************************************
     E                    ZMNM   12  12  3
      *
     ILDA         DS                            256
     I                                      134 141 DBFILE
     I                                      142 170 DBKEY
     I                                      171 180 DBPGM
     I                                      181 1830DBASE
      *
      **  Local data area data structure
      *
     IDSRUN       DS
     I                                        1   7 RDAT
     I                                        1   1 @BLK
     I                                        1   2 @DD
     I                                        3   5 @MMM
     I                                        6   7 @YY
     I                                    P   8  100RUND
     I                                       11  11 SSF
     I                                       12  12 DATF
     I                                       13  13 MBIN
      *
      **  RUNDAT data area data structure (date format -ddmmmyy)
      *
     IRDATE       DS
     I                                        1   2 YY
     I                                        3   6 @WRK4
      *
      **  Data structure used to convert date in RUNDAT from
      ** DDMMMYY into (ddmmyy or mmddyy) format
      *
     C*
      *
      **  RCF Parameters
      *
     C           *ENTRY    PLIST
     C                     PARM RDATE     @R      6
     C                     PARM DATF      @F      1
      *
      *
     C           *NAMVAR   DEFN RUNDAT    DSRUN
     C           *LOCK     IN   DSRUN
     C                     OUT  DSRUN
      *
      **  If data area not found then perform database error processing
      *
     C           RDAT      IFEQ *BLANK
     C           *NAMVAR   DEFN           LDA
     C           *LOCK     IN   LDA
     C                     MOVE 'ZM0080  'DBPGM
     C                     MOVE '01'      DBASE            ***************
     C                     MOVE 'RUNDAT'  DBFILE           * DB ERROR 01 *
     C                     OUT  LDA                        ***************
     C                     SETON                     U7U8LR
     C                     DUMP
     C                     RETRN
     C                     END
      *
      **  Convert RUNDAT into format (yymmdd)
      *
     C                     MOVE @YY       YY
     C                     Z-ADD1         X       20
     C           @MMM      LOKUPZMNM,X                   91
      *
     C                     MOVELX         @WRK4
      *
     C           @BLK      IFEQ *BLANKS
     C                     MOVE '0'       @BLK
     C                     END
      *
     C                     MOVE @DD       @WRK4
      *
     C                     SETON                     LR
**  ZMNM - used to convert RUNDAT to DDMMYY format
JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC
